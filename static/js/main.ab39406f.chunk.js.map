{"version":3,"sources":["components/burger-ingredients/burger-ingredients.module.css","components/modal-overlay/modal-overlay.module.css","components/feed-burgers/feed-burgers.module.css","services/types/hooks-types.ts","components/protected-route/protected-route.tsx","components/app-header/components/header-button.tsx","components/app-header/app-header.tsx","utils/helpers.ts","utils/api.ts","utils/data.ts","services/slicers/foods/foods.ts","components/burger-ingredients/components/ingredients-menu.tsx","components/burger-ingredients/components/ingredient-card.tsx","components/burger-ingredients/components/ingredients-sections.tsx","components/scrollbox/scrollbox.tsx","components/burger-ingredients/burger-ingredients.tsx","components/moved-element/moved-element.tsx","services/slicers/burger-constructor/burger-constructor.ts","components/burger-constructor/components/constructor-filling.tsx","services/slicers/orders/orders.ts","components/burger-constructor/components/constructor-confirm.tsx","components/burger-constructor/components/constructor-menu.tsx","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","images/icon-done.png","components/order-details/order-loader-number.jsx","components/loader/loader.tsx","components/error-message/error-message.tsx","components/order-details/order-details.tsx","components/burger-constructor/burger-constructor.tsx","pages/burger/burger-constructor.tsx","components/auth-form/auth-form-footer.tsx","components/auth-form/auth-form.tsx","services/slicers/profile/profile.ts","pages/auth/login.tsx","pages/auth/register.tsx","pages/auth/forgot-password.tsx","pages/auth/reset-password.tsx","pages/nopage/nopage.tsx","components/ingredient-details/ingredient-desc.tsx","components/ingredient-details/ingredients-details.tsx","pages/ingredient/ingredient.tsx","components/burger-card/burger-card.tsx","components/feed-burgers/feed-burgers.tsx","pages/profile/profile.tsx","components/feed-status/feed-status.tsx","pages/feed/feed.tsx","components/burger-order/burger-order.tsx","pages/burger-order/burger-order.tsx","components/app/app.tsx","components/error-boundary/error-boundary.tsx","reportWebVitals.ts","services/slicers/ingredient/ingredient.js","services/slicers/header/header.ts","services/slicers/auth-form/auth-form.ts","services/slicers/burger-order/burger-order.js","services/slicers/ws-feed/ws-feed.ts","services/slicers/ws-orders/ws-orders.ts","services/index.ts","index.jsx","services/middleware/socketFeedMidlware.js","services/middleware/socketOrdersMidlware.js","pages/pages.module.css","components/burger-constructor/burger-constructor.module.css","components/burger-card/burger-card.module.css","components/ingredient-details/ingredients-details.module.css","components/feed-status/feed-status.module.css","components/burger-order/burger-order.module.css","components/app-header/app-header.module.css","components/auth-form/form.module.css","pages/profile/profile.module.css","components/order-details/order-details.module.css","components/scrollbox/scrollbox.module.css","components/modal/modal.module.css","components/loader/loader.module.css","components/error-message/error-message.module.css","components/app/app.module.css"],"names":["module","exports","useSelector","selectorHook","useDispatch","dispatchHook","ProtectedRoute","children","rest","isAuth","store","profile","user","render","location","to","pathname","state","from","HeaderButton","React","memo","data","icon","text","link","type","ButtonIcon","burger","BurgerIcon","list","ListIcon","ProfileIcon","className","headerStyles","AppHeader","headerLinks","header","dispatch","useLocation","useEffect","maxMatchLength","activeKey","key","includes","length","payload","content","menu","orders","logo","randomInteger","min","max","Math","floor","random","getBurgerByRecipe","recipe","bun","find","food","filling","filter","map","f","i","unicId","_id","totalPrice","reduce","total","current","price","concat","getCookie","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","props","exp","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","baseUrl","apiHandler","res","ok","json","Promise","reject","status","updateToken","refreshToken","localStorage","getItem","fetch","method","headers","body","JSON","stringify","token","then","setItem","accessToken","split","translations","main","sauce","foodsSlice","createSlice","initialState","items","sections","isLoading","isError","isLoaded","reducers","foodsLoading","foodsError","foodsSuccess","action","forEach","foodIndex","findIndex","s","id","foods","push","count","active","getSections","clearCounts","section","setCounts","recipeItem","setActiveSection","actions","reducer","getFoods","result","catch","e","console","log","updateCounts","getState","IngredientsMenu","iStyles","navigation","href","navLinkActive","navLink","onClick","IngredientCard","useDrag","item","dragRef","background","card","cardImage","src","image","alt","ref","cardText","cardPrice","style","lineHeight","cardTitle","size","IngredientsSections","lastSectionRef","useRef","sectionHeight","offsetHeight","boxHeight","ingredientsElem","closest","clientHeight","paddingBottom","sectionFood","cards","ScrollBox","useState","curBlockId","setCurBlockId","containerRef","contentRef","scrollContainerRef","scrollbarRef","container","scrollContainer","scrollbar","bottom","String","top","height","scrollHeight","setScroll","visibility","scrollTop","arrBlocksId","getActiveSectionId","addEventListener","start","preventDefault","scrollBehavior","y","offsetTop","moveContent","end","diff","pageY","relativeScrollTop","removeListeners","removeEventListener","callbackScroll","useCallback","curId","containerTop","getBoundingClientRect","containerBottom","maxRelativeHeight","querySelector","sectionTop","sectionBottom","offTop","offBottom","viewRelativeHeight","sboxStyles","scrollBarContainer","BurgerIngredients","updateMenu","prevActive","ingredients","m","MovedElement","index","moveElement","useDrop","accept","collect","monitor","handlerId","getHandlerId","hover","dragIndex","hoverIndex","hoverBoundingRect","hoverMiddleY","hoverClientY","getClientOffset","drop","isDragging","opacity","drag","padding","margin","backgroundColor","cursor","initialBurger","burgerSlice","clear","foodsArr","createRandomRecipe","del","recipeAfterDel","add","newFood","addRecipe","splice","sort","addInRecipe","a","Filling","dragCard","update","$splice","cStyles","thumbnail","handleClose","ordersSlice","openDetails","currentNumber","closeDetails","orderLoading","orderError","orderSuccess","number","getOrderNumber","arrId","arrIngredients","order","ConfirmOrder","history","useHistory","svgIcon","priceSize","getComputedStyle","fontSize","setAttribute","resizeCurrencyIcon","confirmOrder","ing","confirm","orderPrice","ConstructorMenu","ModalOverlay","oStyles","overlay","onClose","modalRoot","getElementById","Modal","title","closeByKey","ReactDOM","createPortal","mStyles","modalBox","stopPropagation","closePosition","LoaderNumber","randomNumber","setNumber","timerNumber","setInterval","clearInterval","titleLoader","Loader","icons","lStyles","sin","PI","left","cos","ErrorMessage","textArr","errorArr","eStyles","OrderDetails","iconDonePath","BurgerConstructor","onDropHandler","isOver","canDrop","dropTarget","dropContainer","isLocked","isDrag","overflow","BurgerConstructorPage","DndProvider","backend","HTML5Backend","pStyles","AuthFormFooter","footerLinks","fStyles","footer","footerBlock","footerDesc","desc","footerLink","AuthForm","arrInputs","inputs","authForm","form","onSubmit","event","callback","confirmForm","input","placeholder","onChange","target","onIconClick","initialProfile","email","canRestorePass","password","profileIsLoading","porfileIsLoaded","profileIsError","profileSlice","profileLoading","profileSuccess","setProfile","clearProfile","onChangeInput","toggleRestorePass","getUserProfile","getUser","err","loginUser","login","newUser","batch","registerUser","register","logoutUser","logout","removeItem","updateUserProfile","updateUser","resetPass","checkEmail","restorePass","setNewPass","LoginPage","RegisterPage","ForgotPassPage","ResetPassPage","NoPage","noPage","NoOrderPage","noOrderPage","NoOrdersPage","IngredientDescription","ingredient","dStyles","image_large","composition","composeItem","calories","proteins","fat","carbohydrates","IngredientsDetails","IngredientPageModal","position","show","IngredientPage","useParams","setIngredient","ingred","modalPage","BurgerCard","createdAt","bStyles","cardHeader","time","cardFooter","images","CardFoods","bigBurger","reverse","cardImages","BurgerTime","color","burgerDate","burgerDay","getDate","burgerMonth","getMonth","burgerYear","getFullYear","curDay","prevMonthDays","diffDays","timeLabel","zoneLabel","toTimeString","substring","replaceAll","getHours","getMinutes","curTime","BurgerIngredientImage","imageContainer","marginRight","cardImageBlur","backgroundImage","zIndex","BurgerPrice","cardTotal","BurgerNumber","FeedBurgers","burgers","ProfilePage","path","useRouteMatch","exact","ProfileMenu","url","classLink","classActiveLink","activeLink","activeClassName","ProfileForm","changeProfile","formSubmit","ProfileOrders","wsOrders","success","isLoadedFoods","FeedStatus","wsFeed","totalToday","arrDone","arrNotReady","setState","b","StatusColumns","arr","StatusCount","columns","digits","formatter","Intl","NumberFormat","totalDigits","format","FeedPage","BurgerOrder","BurgerOrderRecipe","OrderIngredient","about","BurgerOrderModal","burgerOrder","goBack","BurgerOrderPage","feedOrders","profileOrders","App","toLowerCase","styles","ErrorBoundary","hasError","error","errorInfo","this","_","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ingredietnSlice","openIngredient","closeIngredient","headerSlice","onChangeLink","initialAuth","authSlice","setInputs","valid","clearForm","handleInput","handleIcon","inputState","burgerOrderSlice","openOrder","closeOrder","wsError","wsSuccess","wsClosed","wsGetFeed","wsGetOrders","rootReducer","combineReducers","foodsReducer","burgerReducer","ordersReducer","ingredientReducer","headerReducer","profileReducer","authFormReducer","burgerOrderReducer","wsFeedReducer","wsOrdersReducer","configureStore","middleware","getDefaultMiddleware","logger","socket","next","WebSocket","onopen","onerror","onmessage","parsedData","parse","fullOrders","onclose","devTools","process","StrictMode"],"mappings":"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","file":"static/js/main.ab39406f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"burger-ingredients_ingredients__3ElkJ\",\"menu\":\"burger-ingredients_menu__1AGSy\",\"navigation\":\"burger-ingredients_navigation__2fOQ5\",\"navLink\":\"burger-ingredients_navLink__EFZ70\",\"navLinkActive\":\"burger-ingredients_navLinkActive__1Jxpi burger-ingredients_navLink__EFZ70\",\"sections\":\"burger-ingredients_sections__WEVwA\",\"sectionFood\":\"burger-ingredients_sectionFood__2yBV9\",\"cards\":\"burger-ingredients_cards__1_ztt\",\"card\":\"burger-ingredients_card__2orry\",\"cardPrice\":\"burger-ingredients_cardPrice__1i_8M\",\"cardTitle\":\"burger-ingredients_cardTitle__3obuH\",\"count\":\"burger-ingredients_count__3NHUR\",\"cardText\":\"burger-ingredients_cardText__2go2e\",\"cardImage\":\"burger-ingredients_cardImage__1pVfE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__21jg3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgers\":\"feed-burgers_burgers__KapyN\",\"cards\":\"feed-burgers_cards__xs5Q_\"};","import {\r\n    TypedUseSelectorHook,\r\n    useSelector as selectorHook,\r\n    useDispatch as dispatchHook,\r\n} from 'react-redux';\r\nimport { AppDispatch, AppThunk, RootState } from './store-types';\r\n\r\n\r\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;\r\nexport const useDispatch = () => dispatchHook<AppDispatch | AppThunk>();","import React, {FC} from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from '../../services/types/hooks-types';\r\n\r\nexport const ProtectedRoute:FC<{path? : string, exact?: boolean}> = ({ children, ...rest }) => {\r\n    const isAuth = useSelector(store => store.profile.user.isAuth);\r\n    \r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={({ location }) =>\r\n                isAuth\r\n                    ? (children)\r\n                    : (<Redirect to={{\r\n                        pathname: '/login',\r\n                        state: { from: location }\r\n                    }}/>)\r\n            }\r\n        />\r\n    )\r\n}\r\n","import React, {FC} from 'react';\r\nimport headerStyles from '../app-header.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { IheaderButtonProps } from '../../../utils/proptypes';\r\nimport { BurgerIcon, ListIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nexport const HeaderButton: FC<IheaderButtonProps> = React.memo(\r\n    ({ data }) => {\r\n        // HeaderButton.propTypes = headerButtonProptypes;\r\n\r\n        const { icon, text, link, type } = data;\r\n        const icons = {\r\n            burger: BurgerIcon,\r\n            list: ListIcon,\r\n            profile: ProfileIcon\r\n        };\r\n        const ButtonIcon = icons[icon];\r\n\r\n\r\n        return (\r\n            <Link to={link}>\r\n                <button className={headerStyles[\"button-\" + type]}>\r\n                    <ButtonIcon type={type} />\r\n                    <p className=\"text text_type_main-small pl-1\">{text}</p>\r\n                </button>\r\n            </Link>\r\n        )\r\n    }\r\n)\r\n\r\n","import React, { useEffect, FC } from 'react';\r\nimport { THeaderState } from '../../services/slicers/header/header-types';\r\nimport { useDispatch, useSelector } from '../../services/types/hooks-types';\r\nimport headerStyles from './app-header.module.css';\r\nimport { Logo } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { HeaderButton } from './components/header-button';\r\n\r\nexport const AppHeader: FC = React.memo(\r\n    () => {\r\n        const headerLinks = useSelector(store => store.header);\r\n        const dispatch = useDispatch();\r\n        const { pathname } = useLocation();\r\n\r\n        useEffect(() => {\r\n            let maxMatchLength = 0;\r\n            let activeKey = \"\";\r\n\r\n            for (const key in headerLinks) {\r\n                const link = headerLinks[key as keyof THeaderState].link\r\n\r\n                if (pathname.includes(link) && link.length > maxMatchLength) {\r\n                    activeKey = key;\r\n                    maxMatchLength = link.length;\r\n                }\r\n                if (link === \"/\" && pathname !== \"/\") {\r\n                    activeKey = \"\";\r\n                }\r\n            };\r\n            dispatch({ type: \"header/onChangeLink\", payload: activeKey })\r\n        }, [pathname]);\r\n\r\n        return (\r\n            <header className={headerStyles.header}>\r\n                <nav className={headerStyles.content + \" pt-4 pb-4\"}>\r\n                    <div className={headerStyles.menu}>\r\n                        <HeaderButton data={headerLinks.burger} />\r\n                        <HeaderButton data={headerLinks.orders} />\r\n                    </div>\r\n                    <HeaderButton data={headerLinks.profile} />\r\n                    <div className={headerStyles.logo}>\r\n                        <Link to={\"/\"}>\r\n                            <Logo />\r\n                        </Link>\r\n                    </div>\r\n                </nav>\r\n            </header>)\r\n    }\r\n)\r\n","import { updateToken } from \"./api\";\r\nimport { Tfood } from \"./proptypes\";\r\n\r\nexport const randomInteger = (min: number, max: number): number => Math.floor(min + Math.random() * (max + 1 - min));\r\n\r\n//------------------------burger reducer---------------------------------\r\nexport const createRandomRecipe = (foodsArr: Array<Tfood>): Array<Tfood> => {\r\n    const recipe: Array<Tfood> = [];\r\n    const count = randomInteger(6, 10);\r\n\r\n    for (let i = 0; i < count; i++) {\r\n        recipe[i] = foodsArr[randomInteger(0, foodsArr.length - 1)];\r\n    }\r\n\r\n    if (!!!recipe.find(f => f.type === \"bun\")) {\r\n        const bun: Tfood | undefined = foodsArr.find(f => f.type === \"bun\");\r\n        if (typeof bun !== 'undefined') {\r\n            recipe.push(bun)\r\n        }\r\n    }\r\n    return recipe\r\n}\r\n\r\nexport function getBurgerByRecipe(recipe: Array<Tfood>): {\r\n    recipe: Array<Tfood>,\r\n    bun: Tfood | undefined | null,\r\n    filling: Array<Tfood>,\r\n    totalPrice: number | null\r\n} {\r\n    const bun: Tfood | undefined = recipe.find(food => food.type === \"bun\");\r\n    const filling: Array<Tfood> = recipe.filter(food => food.type !== \"bun\").map((f, i) => ({ ...f, unicId: i + f._id }));\r\n    const totalPrice: number = filling.reduce((total, current) => total + current.price, 0)\r\n        + (!!bun ? bun.price * 2 : 0);\r\n    recipe = filling.concat(!!bun ? bun : []);\r\n    return { recipe, bun, filling, totalPrice }\r\n}\r\n\r\n//------------------------------cookie------------------------------------\r\nexport function getCookie(name: string): string | undefined {\r\n    const matches = document.cookie.match(\r\n        new RegExp('(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)')\r\n    );\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nexport function setCookie(\r\n    name: string,\r\n    value: string | number | boolean | null,\r\n    props?: any): void {\r\n    props = props || {};\r\n    let exp = props.expires;\r\n    if (typeof exp == 'number' && exp) {\r\n        const d = new Date();\r\n        d.setTime(d.getTime() + exp * 1000);\r\n        exp = props.expires = d;\r\n    }\r\n    if (exp && exp.toUTCString) {\r\n        props.expires = exp.toUTCString();\r\n    }\r\n    value = encodeURIComponent(value !==null ? value : '');\r\n    let updatedCookie = name + '=' + value;\r\n    for (const propName in props) {\r\n        updatedCookie += '; ' + propName;\r\n        const propValue = props[propName];\r\n        if (propValue !== true) {\r\n            updatedCookie += '=' + propValue;\r\n        }\r\n    }\r\n    document.cookie = updatedCookie;\r\n}\r\n\r\n//---------------------------------auth--------------------------------------------------\r\n\r\nexport async function isTokenValid(): Promise<boolean> {\r\n    let isAuth = false;\r\n    const token = localStorage.getItem('refreshToken');\r\n\r\n    if (!!token && token !== 'undefined') {\r\n        await updateToken()\r\n            .then(() => isAuth = true)\r\n            .catch(err => {\r\n                console.log(\"Error with toekn update:\", err);\r\n                isAuth = false;\r\n            })\r\n    }\r\n    return isAuth\r\n}\r\n","import { getCookie, setCookie } from \"./helpers\";\r\nimport { Idata } from \"./proptypes\";\r\n\r\nexport const baseUrl = 'https://norma.nomoreparties.space/api';\r\nconst apiHandler = (res: any) => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`);\r\n\r\n\r\nexport const loadFoods = () =>\r\n    fetch(`${baseUrl}/ingredients`)\r\n        .then(res => apiHandler(res));\r\n\r\nexport const loadOrderNumber = (arrIngredients:Array<string>) =>\r\n    fetch(`${baseUrl}/orders`,\r\n        {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': 'Bearer ' + getCookie('accessToken')\r\n            },\r\n            body: JSON.stringify({ ingredients: arrIngredients })\r\n        })\r\n        .then(res => apiHandler(res));\r\n\r\n//-----------------------auth-------------------------------------\r\n\r\nexport const login = (data: Idata) =>\r\n    fetch(`${baseUrl}/auth/login`,\r\n        {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json;charset=utf-8' },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then(res => apiHandler(res));\r\n\r\nexport const register = (data: Idata) =>\r\n    fetch(`${baseUrl}/auth/register`,\r\n        {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json;charset=utf-8' },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then(res => apiHandler(res));\r\n\r\nexport const logout = () => {\r\n    const refreshToken = localStorage.getItem('refreshToken')!;\r\n\r\n    return fetch(`${baseUrl}/auth/logout`,\r\n        {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': refreshToken\r\n            },\r\n            body: JSON.stringify({ token: refreshToken })\r\n        })\r\n        .then(res => apiHandler(res));\r\n}\r\n\r\nexport const updateToken = () => {\r\n    const refreshToken = localStorage.getItem('refreshToken')!;\r\n\r\n    return fetch(`${baseUrl}/auth/token`,\r\n        {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': refreshToken\r\n            },\r\n            body: JSON.stringify({ token: refreshToken })\r\n        })\r\n        .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\r\n        .then(res => {\r\n            localStorage.setItem('refreshToken', res.refreshToken);\r\n            setCookie(\"accessToken\", res.accessToken.split('Bearer ')[1]);\r\n            return res\r\n        })\r\n}\r\n\r\n\r\n//-----------------------user-------------------------------------------\r\nexport const getUser = () => {\r\n    const accessToken = getCookie('accessToken');\r\n\r\n    if (!!accessToken) {\r\n        return fetch(`${baseUrl}/auth/user`,\r\n            {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8',\r\n                    'Authorization': 'Bearer ' + accessToken\r\n                }\r\n            })\r\n            .then(res => apiHandler(res));\r\n    } else {\r\n        return Promise.reject(`Профиль не может быть получен: нет токена`)\r\n    }\r\n}\r\n\r\n\r\nexport const updateUser = (data: Idata) => {\r\n    fetch(`${baseUrl}/auth/user`,\r\n        {\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': 'Bearer ' + getCookie('accessToken')\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then(res => apiHandler(res));\r\n}\r\n//-----------------------reset-pass-------------------------------------\r\n\r\nexport const checkEmail = (data: Idata) =>\r\n    fetch(`${baseUrl}/password-reset`,\r\n        {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json;charset=utf-8' },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then(res => apiHandler(res));\r\n\r\nexport const setNewPass = (data: Idata) =>\r\n    fetch(`${baseUrl}/password-reset/reset`,\r\n        {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json;charset=utf-8' },\r\n            body: JSON.stringify({ data })\r\n        })\r\n        .then(res => apiHandler(res));\r\n\r\n","import { Idata } from \"./proptypes\";\r\nexport const translations: Idata = {\r\n    bun: \"Булки\",\r\n    main: \"Начинка\",\r\n    sauce: \"Соусы\"\r\n};\r\n\r\n// export const customRecipe =\r\n//     [\r\n//     {\r\n//             \"_id\": \"60d3b41abdacab0026a733c6\",\r\n//             \"name\": \"Краторная булка N-200i\",\r\n//             \"type\": \"bun\",\r\n//             \"proteins\": 80,\r\n//             \"fat\": 24,\r\n//             \"carbohydrates\": 53,\r\n//             \"calories\": 420,\r\n//             \"price\": 1255,\r\n//             \"image\": \"https://code.s3.yandex.net/react/code/bun-02.png\",\r\n//             \"image_mobile\": \"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\r\n//             \"image_large\": \"https://code.s3.yandex.net/react/code/bun-02-large.png\",\r\n//             \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733cc\",\r\n//         \"name\": \"Соус Spicy-X\",\r\n//         \"type\": \"sauce\",\r\n//         \"proteins\": 30,\r\n//         \"fat\": 20,\r\n//         \"carbohydrates\": 40,\r\n//         \"calories\": 30,\r\n//         \"price\": 90,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/sauce-02.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/sauce-02-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/sauce-02-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d3\",\r\n//         \"name\": \"Мини-салат Экзо-Плантаго\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 1,\r\n//         \"fat\": 2,\r\n//         \"carbohydrates\": 3,\r\n//         \"calories\": 6,\r\n//         \"price\": 4400,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/salad.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/salad-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/salad-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733cb\",\r\n//         \"name\": \"Биокотлета из марсианской Магнолии\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 420,\r\n//         \"fat\": 142,\r\n//         \"carbohydrates\": 242,\r\n//         \"calories\": 4242,\r\n//         \"price\": 424,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/meat-01.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/meat-01-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/meat-01-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d0\",\r\n//         \"name\": \"Хрустящие минеральные кольца\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 808,\r\n//         \"fat\": 689,\r\n//         \"carbohydrates\": 609,\r\n//         \"calories\": 986,\r\n//         \"price\": 300,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d0\",\r\n//         \"name\": \"Хрустящие минеральные кольца\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 808,\r\n//         \"fat\": 689,\r\n//         \"carbohydrates\": 609,\r\n//         \"calories\": 986,\r\n//         \"price\": 300,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d4\",\r\n//         \"name\": \"Сыр с астероидной плесенью\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 84,\r\n//         \"fat\": 48,\r\n//         \"carbohydrates\": 420,\r\n//         \"calories\": 3377,\r\n//         \"price\": 4142,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/cheese.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/cheese-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733cd\",\r\n//         \"name\": \"Соус фирменный Space Sauce\",\r\n//         \"type\": \"sauce\",\r\n//         \"proteins\": 50,\r\n//         \"fat\": 22,\r\n//         \"carbohydrates\": 11,\r\n//         \"calories\": 14,\r\n//         \"price\": 80,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/sauce-04.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/sauce-04-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/sauce-04-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d4\",\r\n//         \"name\": \"Сыр с астероидной плесенью\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 84,\r\n//         \"fat\": 48,\r\n//         \"carbohydrates\": 420,\r\n//         \"calories\": 3377,\r\n//         \"price\": 4142,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/cheese.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/cheese-large.png\",\r\n//         \"__v\": 0\r\n//     }\r\n// ];\r\n\r\n\r\n\r\n// export const realFoods =\r\n//     [\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733c6\",\r\n//         \"name\": \"Краторная булка N-200i\",\r\n//         \"type\": \"bun\",\r\n//         \"proteins\": 80,\r\n//         \"fat\": 24,\r\n//         \"carbohydrates\": 53,\r\n//         \"calories\": 420,\r\n//         \"price\": 1255,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/bun-02.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/bun-02-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733c7\",\r\n//         \"name\": \"Флюоресцентная булка R2-D3\",\r\n//         \"type\": \"bun\",\r\n//         \"proteins\": 44,\r\n//         \"fat\": 26,\r\n//         \"carbohydrates\": 85,\r\n//         \"calories\": 643,\r\n//         \"price\": 988,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/bun-01.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/bun-01-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/bun-01-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733c8\",\r\n//         \"name\": \"Филе Люминесцентного тетраодонтимформа\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 44,\r\n//         \"fat\": 26,\r\n//         \"carbohydrates\": 85,\r\n//         \"calories\": 643,\r\n//         \"price\": 988,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/meat-03.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/meat-03-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/meat-03-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733c9\",\r\n//         \"name\": \"Мясо бессмертных моллюсков Protostomia\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 433,\r\n//         \"fat\": 244,\r\n//         \"carbohydrates\": 33,\r\n//         \"calories\": 420,\r\n//         \"price\": 1337,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/meat-02.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/meat-02-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/meat-02-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733ca\",\r\n//         \"name\": \"Говяжий метеорит (отбивная)\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 800,\r\n//         \"fat\": 800,\r\n//         \"carbohydrates\": 300,\r\n//         \"calories\": 2674,\r\n//         \"price\": 3000,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/meat-04.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/meat-04-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/meat-04-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733cb\",\r\n//         \"name\": \"Биокотлета из марсианской Магнолии\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 420,\r\n//         \"fat\": 142,\r\n//         \"carbohydrates\": 242,\r\n//         \"calories\": 4242,\r\n//         \"price\": 424,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/meat-01.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/meat-01-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/meat-01-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733cc\",\r\n//         \"name\": \"Соус Spicy-X\",\r\n//         \"type\": \"sauce\",\r\n//         \"proteins\": 30,\r\n//         \"fat\": 20,\r\n//         \"carbohydrates\": 40,\r\n//         \"calories\": 30,\r\n//         \"price\": 90,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/sauce-02.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/sauce-02-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/sauce-02-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733cd\",\r\n//         \"name\": \"Соус фирменный Space Sauce\",\r\n//         \"type\": \"sauce\",\r\n//         \"proteins\": 50,\r\n//         \"fat\": 22,\r\n//         \"carbohydrates\": 11,\r\n//         \"calories\": 14,\r\n//         \"price\": 80,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/sauce-04.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/sauce-04-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/sauce-04-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733ce\",\r\n//         \"name\": \"Соус традиционный галактический\",\r\n//         \"type\": \"sauce\",\r\n//         \"proteins\": 42,\r\n//         \"fat\": 24,\r\n//         \"carbohydrates\": 42,\r\n//         \"calories\": 99,\r\n//         \"price\": 15,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/sauce-03.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/sauce-03-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/sauce-03-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733cf\",\r\n//         \"name\": \"Соус с шипами Антарианского плоскоходца\",\r\n//         \"type\": \"sauce\",\r\n//         \"proteins\": 101,\r\n//         \"fat\": 99,\r\n//         \"carbohydrates\": 100,\r\n//         \"calories\": 100,\r\n//         \"price\": 88,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/sauce-01.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/sauce-01-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/sauce-01-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d0\",\r\n//         \"name\": \"Хрустящие минеральные кольца\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 808,\r\n//         \"fat\": 689,\r\n//         \"carbohydrates\": 609,\r\n//         \"calories\": 986,\r\n//         \"price\": 300,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d1\",\r\n//         \"name\": \"Плоды Фалленианского дерева\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 20,\r\n//         \"fat\": 5,\r\n//         \"carbohydrates\": 55,\r\n//         \"calories\": 77,\r\n//         \"price\": 874,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/sp_1.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/sp_1-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/sp_1-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d2\",\r\n//         \"name\": \"Кристаллы марсианских альфа-сахаридов\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 234,\r\n//         \"fat\": 432,\r\n//         \"carbohydrates\": 111,\r\n//         \"calories\": 189,\r\n//         \"price\": 762,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/core.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/core-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/core-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d3\",\r\n//         \"name\": \"Мини-салат Экзо-Плантаго\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 1,\r\n//         \"fat\": 2,\r\n//         \"carbohydrates\": 3,\r\n//         \"calories\": 6,\r\n//         \"price\": 4400,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/salad.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/salad-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/salad-large.png\",\r\n//         \"__v\": 0\r\n//     },\r\n//     {\r\n//         \"_id\": \"60d3b41abdacab0026a733d4\",\r\n//         \"name\": \"Сыр с астероидной плесенью\",\r\n//         \"type\": \"main\",\r\n//         \"proteins\": 84,\r\n//         \"fat\": 48,\r\n//         \"carbohydrates\": 420,\r\n//         \"calories\": 3377,\r\n//         \"price\": 4142,\r\n//         \"image\": \"https://code.s3.yandex.net/react/code/cheese.png\",\r\n//         \"image_mobile\": \"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\r\n//         \"image_large\": \"https://code.s3.yandex.net/react/code/cheese-large.png\",\r\n//         \"__v\": 0\r\n//     }\r\n// ];\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { loadFoods } from '../../../utils/api';\r\nimport { translations } from '../../../utils/data';\r\nimport { TFoodsState } from './foods-types';\r\nimport { Tfood, TingredientSection } from '../../../utils/proptypes';\r\nimport { AppThunk, AppDispatch, GetState } from '../../types/store-types';\r\n\r\nconst initialFoods: TFoodsState = {\r\n    items: [],\r\n    sections: [],\r\n    \r\n    isLoading: false,\r\n    isError: false,\r\n    isLoaded: false\r\n};\r\n\r\nconst foodsSlice = createSlice({\r\n    name: 'foods',\r\n    initialState: initialFoods,\r\n    reducers: {\r\n        foodsLoading: (state) => {\r\n            state.isLoading = true;\r\n            state.isError = false;\r\n            state.isLoaded = false\r\n        },\r\n        foodsError: (state) => {\r\n            state.isLoading = false;\r\n            state.isError = true;\r\n            state.isLoaded = false\r\n        },\r\n        foodsSuccess: (state, action) => {\r\n            state.items = action.payload;\r\n            state.isLoading = false;\r\n            state.isError = false;\r\n            state.isLoaded = true\r\n            state.sections = getSections(action.payload);\r\n        },\r\n        clearCounts: (state) => {\r\n            state.sections.forEach(section => {\r\n                section.foods = section.foods.map(f =>\r\n                    ({ ...f, count: 0 }))\r\n            });\r\n        },\r\n        setCounts: (state, action) => {\r\n            state.sections.forEach(section =>\r\n                section.foods.forEach(f =>\r\n                    f.count = action.payload.reduce((total: number, recipeItem: Tfood) =>\r\n                        recipeItem._id === f._id\r\n                            ? total + (recipeItem.type !== 'bun' ? 1 : 2)\r\n                            : total, 0))\r\n            )\r\n        },\r\n        setActiveSection: (state, action) => {\r\n            state.sections = state.sections.map(s => ({ ...s, active: s.id === action.payload }))\r\n        }\r\n    },\r\n});\r\n\r\n\r\nconst { actions, reducer } = foodsSlice;\r\nconst {\r\n    foodsLoading, foodsError, foodsSuccess,\r\n    clearCounts, setCounts, setActiveSection\r\n} = actions;\r\n\r\nconst getFoods: AppThunk = () => {\r\n     return function (dispatch: AppDispatch) {\r\n        dispatch(foodsLoading());\r\n        return loadFoods()\r\n            .then(result => dispatch(foodsSuccess(result.data)))\r\n            .catch(e => {\r\n                console.log(\"Error with ingredients:\", e);\r\n                return dispatch(foodsError())\r\n            })\r\n    }\r\n};\r\n\r\nconst updateCounts = (dispatch: AppDispatch, getState: GetState) => {\r\n    const curRecipe = getState().burger.recipe;\r\n    dispatch({ type: \"foods/setCounts\", payload: curRecipe })\r\n};\r\n\r\nfunction getSections(items: Array<Tfood>) {\r\n    const sections: Array<TingredientSection> = [];\r\n    items.forEach(food => {\r\n        const foodIndex = sections.findIndex(s => s.id === food.type);\r\n        foodIndex > -1\r\n            ? sections[foodIndex].foods.push({ ...food, count: 0 })\r\n            : sections.push({\r\n                id: food.type,\r\n                text: translations[food.type],\r\n                foods: [{ ...food, count: 0 }],\r\n                active: false\r\n            })\r\n    });\r\n    return sections\r\n};\r\n\r\nexport {\r\n    reducer as foodsReducer,\r\n    foodsLoading, foodsError, foodsSuccess,\r\n    clearCounts, setCounts, setActiveSection,\r\n    initialFoods,\r\n    getFoods, updateCounts, getSections\r\n};","import React, {FC} from 'react';\r\nimport { useDispatch } from '../../../services/types/hooks-types';\r\nimport iStyles from '../burger-ingredients.module.css';\r\nimport { setActiveSection } from '../../../services/slicers/foods/foods';\r\nimport { TingredientsMenuProps } from '../../../utils/proptypes';\r\n\r\nexport const IngredientsMenu: FC<TingredientsMenuProps> = React.memo(\r\n    ({ sections}) => {\r\n        const dispatch = useDispatch();\r\n\r\n        return (\r\n            <div className={iStyles.menu}>\r\n                <h1 className={\"text text_type_main-large mb-5\"}>Соберите бургер</h1>\r\n                <nav className={iStyles.navigation}>\r\n                    {sections.map(link => (\r\n                        <a\r\n                            key={link.id}\r\n                            href={`#${link.id}`}\r\n                            className={(link.active ? iStyles.navLinkActive : iStyles.navLink)\r\n                                + \" pt-4 pb-4 text text_type_main-default\"}\r\n                            onClick={() => dispatch(setActiveSection(link.id))}\r\n                        >\r\n                            {link.text}\r\n                        </a>\r\n                    ))}\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n)\r\n\r\n\r\n","import React, {FC} from 'react';\r\nimport iStyles from '../burger-ingredients.module.css';\r\nimport { useDispatch } from '../../../services/types/hooks-types';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport { CurrencyIcon, Counter } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { TingredientCardProps } from '../../../utils/proptypes';\r\nimport { useDrag } from \"react-dnd\";\r\n\r\nexport const IngredientCard: FC<TingredientCardProps> = React.memo(\r\n    ({ food }) => {\r\n        const dispatch = useDispatch();\r\n        const location = useLocation();\r\n\r\n        const [, dragRef] = useDrag({\r\n            type: \"food\",\r\n            item: food\r\n        });\r\n\r\n\r\n        return (\r\n            <Link to={{\r\n                pathname: `/ingredients/${food._id}`,\r\n                state: { background: location }\r\n            }}>\r\n                <li className={iStyles.card}\r\n                    onClick={() => dispatch({ type: \"ingredient/openIngredient\", payload: food })}>\r\n                    <img className={iStyles.cardImage} src={food.image} alt={food.name} ref={dragRef} />\r\n                    <div className={iStyles.cardText}>\r\n                        <div className={iStyles.cardPrice}>\r\n                            <span className=\"text text_type_main-medium m-2\" style={{ lineHeight: \"1\" }}>{food.price}</span>\r\n                            <CurrencyIcon type={\"primary\"} />\r\n                        </div>\r\n                        <h3 className={iStyles.cardTitle + \" text text_type_main-default\"}>{food.name}</h3>\r\n                    </div>\r\n                    <div className={iStyles.count}>\r\n                        {!!food.count && <Counter count={food.count} size=\"default\" />}\r\n                    </div>\r\n                </li>\r\n            </Link>\r\n        )\r\n    }\r\n);","import React, { FC } from 'react';\r\nimport iStyles from '../burger-ingredients.module.css';\r\nimport { useEffect, useRef } from 'react';\r\nimport { IngredientCard } from './ingredient-card';\r\nimport { TingredientsMenuProps } from '../../../utils/proptypes';\r\n\r\nexport const IngredientsSections: FC<TingredientsMenuProps> = React.memo(\r\n    ({ sections }) => {\r\n\r\n        const lastSectionRef = useRef<HTMLLIElement>(null);\r\n\r\n        useEffect(() => {\r\n            if (lastSectionRef !== null && lastSectionRef.current !== null) {\r\n                const sectionHeight = lastSectionRef.current.offsetHeight;\r\n                let boxHeight = 0;\r\n                const ingredientsElem = lastSectionRef.current.closest('#ingredients');\r\n\r\n                if (ingredientsElem !== null) {\r\n                    boxHeight = ingredientsElem.clientHeight;\r\n                }\r\n\r\n                if (boxHeight > sectionHeight) {\r\n                    lastSectionRef.current.style.paddingBottom = boxHeight - sectionHeight + \"px\";\r\n                }\r\n            }\r\n        }, [sections]);\r\n\r\n        return (\r\n            <ul className={iStyles.sections}>\r\n                {sections.map((section, i) => (\r\n                    <li className={iStyles.sectionFood}\r\n                        key={section.id}\r\n                        id={section.id}\r\n                        ref={i === (sections.length - 1) ? lastSectionRef : undefined}\r\n                    >\r\n                        <h2 className=\"text text_type_main-medium\">{section.text}</h2>\r\n                        <ul className={iStyles.cards}>\r\n                            {section.foods.map(f =>\r\n                                <IngredientCard\r\n                                    key={f._id}\r\n                                    food={f}\r\n                                />)}\r\n                        </ul>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        )\r\n    }\r\n)\r\n\r\n\r\n\r\n\r\n\r\n","import React, { FC } from 'react';\r\nimport { Tscrollbox } from \"../../utils/proptypes\";\r\nimport { useEffect, useState, useRef, useCallback } from 'react';\r\nimport sboxStyles from './scrollbox.module.css';\r\n\r\n\r\nexport const ScrollBox: FC<Tscrollbox> = React.memo(\r\n    (props) => {\r\n        const [curBlockId, setCurBlockId] = useState<string|undefined>(\"\");\r\n        const containerRef = useRef(null);\r\n        const contentRef = useRef(null);\r\n        const scrollContainerRef = useRef(null);\r\n        const scrollbarRef = useRef(null);\r\n\r\n        useEffect(() => {\r\n            const container: any = containerRef.current;\r\n            const content: any = contentRef.current;\r\n            const scrollContainer: any = scrollContainerRef.current;\r\n            const scrollbar: any = scrollbarRef.current;\r\n\r\n            container.style.paddingBottom = !!props.bottom ? String(props.bottom) + \"px\" : \"0px\";\r\n            scrollContainer.style.top = !!props.top ? String(props.top) + \"px\" : \"0px\";\r\n            scrollContainer.style.bottom = !!props.bottom ? props.bottom + \"px\" : \"0px\";\r\n            scrollbar.style.height = String(scrollContainer.clientHeight * content.clientHeight / content.scrollHeight) + \"px\";\r\n\r\n            const setScroll = () => {\r\n                if (content.scrollHeight > content.clientHeight) {\r\n                    scrollContainer.style.visibility = \"visible\";\r\n                    scrollbar.style.top = scrollContainer.clientHeight * content.scrollTop / content.scrollHeight + \"px\";\r\n                    if (!!props.arrBlocksId) {\r\n                        setCurBlockId(getActiveSectionId())\r\n                    }\r\n                } else {\r\n                    scrollContainer.style.visibility = \"hidden\";\r\n                }\r\n            };\r\n\r\n            const pushScrollbar = (start: { preventDefault: () => void; pageY: number; }) => {\r\n                start.preventDefault();\r\n                content.style.scrollBehavior = \"auto\";\r\n                const y = scrollbar.offsetTop;\r\n\r\n                const moveContent = function (end: { pageY: number; }) {\r\n                    const diff = end.pageY - start.pageY;\r\n                    const relativeScrollTop =\r\n                        Math.min(scrollContainer.clientHeight - scrollbar.clientHeight, Math.max(0, y + diff))\r\n                        / scrollContainer.clientHeight;\r\n                    content.scrollTop = content.scrollHeight * relativeScrollTop;\r\n                };\r\n\r\n                const removeListeners = () => {\r\n                    document.removeEventListener('mousemove', moveContent);\r\n                    document.removeEventListener('mouseup', removeListeners);\r\n                    content.style.scrollBehavior = \"smooth\";\r\n                };\r\n\r\n                document.addEventListener('mousemove', moveContent);\r\n                document.addEventListener('mouseup', removeListeners);\r\n            };\r\n\r\n            setScroll();\r\n            content.addEventListener('scroll', setScroll);\r\n            scrollbar.addEventListener('mousedown', pushScrollbar);\r\n        }, [props]);\r\n\r\n        useEffect(() => {\r\n            if (!!curBlockId && !!props.callbackScroll) {\r\n                props.callbackScroll(curBlockId)\r\n            }\r\n        }, [curBlockId, props]);\r\n\r\n        const getActiveSectionId = useCallback(():string|undefined => {\r\n            const container: any = containerRef.current;\r\n            const containerTop: any = container.getBoundingClientRect().top;\r\n            const containerBottom: any = container.clientHeight + containerTop;\r\n            let curId;\r\n            let maxRelativeHeight = 0;\r\n            if (!!props.arrBlocksId) {\r\n                props.arrBlocksId.forEach(id => {\r\n                    const section = document.querySelector(`#${id}`);\r\n                    if (!!section) {\r\n                        const sectionTop = section.getBoundingClientRect().top;\r\n                        const sectionBottom = section.clientHeight + sectionTop;\r\n                        const offTop = containerTop > sectionTop ? containerTop - sectionTop : 0;\r\n                        const offBottom = containerBottom < sectionBottom ? sectionBottom - containerBottom : 0;\r\n                        const viewRelativeHeight = (section.clientHeight - offTop - offBottom) / section.clientHeight;\r\n\r\n                        if (viewRelativeHeight > maxRelativeHeight) {\r\n                            maxRelativeHeight = viewRelativeHeight\r\n                            curId = id\r\n                        };\r\n                    }\r\n                });\r\n            }\r\n            return curId\r\n        }, [props])\r\n\r\n        return (\r\n            <section className={sboxStyles.container} id={!!props.id ? props.id : \"scrollbox\"} ref={containerRef}>\r\n                <div className={sboxStyles.scrollBarContainer} ref={scrollContainerRef}>\r\n                    <div className={sboxStyles.scrollbar} ref={scrollbarRef}></div>\r\n                </div>\r\n                <div className={sboxStyles.content} ref={contentRef}>\r\n                    {props.children}\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n);\r\n\r\n","import { FC } from 'react';\r\nimport iStyles from './burger-ingredients.module.css';\r\nimport { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from '../../services/types/hooks-types';\r\nimport { IngredientsMenu } from './components/ingredients-menu';\r\nimport { IngredientsSections } from './components/ingredients-sections';\r\nimport { ScrollBox } from '../scrollbox/scrollbox';\r\nimport { setActiveSection } from '../../services/slicers/foods/foods';\r\n\r\nexport const BurgerIngredients: FC = () => {\r\n    const sections = useSelector(store => store.foods.sections);\r\n    const dispatch = useDispatch();\r\n\r\n    const updateMenu = useCallback((id) => {\r\n        const prevActive = sections.find(s => s.active);\r\n        if (!prevActive || prevActive.id !== id) {\r\n            dispatch(setActiveSection(id))\r\n        }\r\n    }, [sections, dispatch])\r\n\r\n    return (\r\n        <article className={iStyles.ingredients}>\r\n            {!!sections.length &&\r\n                <>\r\n                <IngredientsMenu sections={sections} />\r\n                    <ScrollBox\r\n                        top={40}\r\n                        bottom={16}\r\n                        id={\"ingredients\"}\r\n                        arrBlocksId={sections.map(m => m.id)}\r\n                        callbackScroll={updateMenu}\r\n                    >\r\n                        <IngredientsSections sections={sections} />\r\n                    </ScrollBox>\r\n                </>\r\n            }\r\n        </article>\r\n    )\r\n}\r\n","import React, { FC, useRef } from 'react';\r\nimport { useDrop, useDrag } from \"react-dnd\";\r\nimport { TmovedElementProps } from '../../utils/proptypes';\r\n\r\nexport const MovedElement: FC <TmovedElementProps> = ({ id, children, index, moveElement }) => {\r\n    const ref = useRef<HTMLInputElement>(null);\r\n    const [{ handlerId }, drop] = useDrop({\r\n        accept: 'card',\r\n        collect(monitor) {\r\n            return {\r\n                handlerId: monitor.getHandlerId(),\r\n            };\r\n        },\r\n        hover(item: any, monitor) {\r\n            if (!ref.current) {\r\n                return;\r\n            }\r\n            const dragIndex = item.index;\r\n            const hoverIndex = index;\r\n            if (dragIndex === hoverIndex) {\r\n                return;\r\n            }\r\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n            const clientOffset = monitor.getClientOffset()!;\r\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n                return;\r\n            }\r\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n                return;\r\n            }\r\n            moveElement(dragIndex, hoverIndex);\r\n            item.index = hoverIndex;\r\n        },\r\n    });\r\n    const [{ isDragging }, drag] = useDrag({\r\n        type: \"card\",\r\n        item: () => {\r\n            return { id, index };\r\n        },\r\n        collect: (monitor) => ({\r\n            isDragging: monitor.isDragging(),\r\n        }),\r\n    });\r\n    const style = {\r\n        padding: '0',\r\n        margin: '0',\r\n        backgroundColor: 'transparent',\r\n        cursor: 'pointer',\r\n    };\r\n    const opacity = isDragging ? 0 : 1;\r\n\r\n    drag(drop(ref));\r\n\r\n    return (<div\r\n        ref={ref}\r\n        data-handler-id={handlerId}\r\n        style={{ ...style, opacity }}\r\n    >\r\n        {children}\r\n    </div>);\r\n};","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { updateCounts } from '../foods/foods';\r\nimport { createRandomRecipe, getBurgerByRecipe } from '../../../utils/helpers';\r\nimport { TBurgerConstructorState } from './burger-constructor-types';\r\nimport { Tfood } from '../../../utils/proptypes';\r\nimport { AppThunk, AppDispatch, GetState } from '../../types/store-types';\r\n\r\nconst initialBurger: TBurgerConstructorState = {\r\n    recipe: [],\r\n    totalPrice: null,\r\n    bun: null,\r\n    filling: []\r\n};\r\n\r\nconst burgerSlice = createSlice({\r\n    name: 'burger',\r\n    initialState: initialBurger,\r\n    reducers: {\r\n        clear: (state) => initialBurger,\r\n        random: (state, action) => {\r\n            const foods = action.payload;\r\n            return getBurgerByRecipe(createRandomRecipe(foods));\r\n        },\r\n        del: (state, action) => {\r\n            const recipeAfterDel = state.filling.filter(f => f.unicId !== action.payload);\r\n            if (!!state.bun) {\r\n                recipeAfterDel.push(state.bun)\r\n            };\r\n            return getBurgerByRecipe(recipeAfterDel);\r\n        },\r\n        add: (state, action: PayloadAction<Tfood>) => {\r\n            const newFood = { ...action.payload };\r\n            let addRecipe = [...state.recipe];\r\n            if (newFood.type === \"bun\" && !!state.bun) {\r\n                addRecipe.splice(\r\n                    addRecipe.findIndex(f => f.type === \"bun\"), 1, newFood)\r\n            } else {\r\n                addRecipe.push(newFood)\r\n            }\r\n\r\n            return getBurgerByRecipe(addRecipe)\r\n        },\r\n        sort: (state, action) => {\r\n            const filling = action.payload;\r\n            state.filling = filling\r\n        }\r\n    },\r\n});\r\n\r\nconst addInRecipe = (food: Tfood) => {\r\n    return async function (dispatch: AppDispatch, getState: GetState) {\r\n        await dispatch({ type: 'burger/add', payload: food });\r\n        updateCounts(dispatch, getState);\r\n    }\r\n}\r\n\r\nconst delFromRecipe = (food: Tfood) => {\r\n    return function (dispatch: AppDispatch, getState: GetState) {\r\n        dispatch({ type: 'burger/del', payload: food.unicId });\r\n        updateCounts(dispatch, getState);\r\n    }\r\n}\r\n\r\nconst clearRecipe: AppThunk = () => {\r\n    return function (dispatch: AppDispatch) {\r\n        dispatch({ type: 'burger/clear' });\r\n        dispatch({ type: 'foods/clearCounts' })\r\n    }\r\n}\r\n\r\nconst randomRecipe = () => {\r\n    return async function (dispatch: AppDispatch, getState: GetState) {\r\n        const foods = getState().foods.items;\r\n        await dispatch({ type: 'burger/random', payload: foods });\r\n        updateCounts(dispatch, getState);\r\n    }\r\n}\r\n\r\nconst { actions, reducer } = burgerSlice;\r\nconst { clear, random, del, add } = actions;\r\n\r\nexport {\r\n    reducer as burgerReducer,\r\n    clear, random, del, add,\r\n    addInRecipe, delFromRecipe, clearRecipe, randomRecipe,\r\n    initialBurger\r\n};","import React, { FC, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from '../../../services/types/hooks-types';\r\nimport cStyles from '../burger-constructor.module.css';\r\nimport { MovedElement } from '../../moved-element/moved-element';\r\nimport { ConstructorElement, DragIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { ScrollBox } from '../../scrollbox/scrollbox';\r\nimport update from 'immutability-helper';\r\nimport { delFromRecipe } from '../../../services/slicers/burger-constructor/burger-constructor';\r\n\r\n\r\nexport const Filling:FC <{isDrag: boolean, canDrop: boolean}> = React.memo(() => {\r\n    const filling = useSelector(store => store.burger.filling);\r\n    const dispatch = useDispatch();\r\n    \r\n        const moveElement = useCallback((dragIndex, hoverIndex) => {\r\n            const dragCard = filling[dragIndex];\r\n            dispatch({\r\n                type: 'burger/sort',\r\n                payload: update(filling, {\r\n                    $splice: [\r\n                        [dragIndex, 1],\r\n                        [hoverIndex, 0, dragCard],\r\n                    ],\r\n                })\r\n            })\r\n        }, [filling, dispatch]);\r\n\r\n        return (\r\n            <div className={cStyles.filling} id=\"filling\">\r\n                <ScrollBox\r\n                    top={40}\r\n                    id={\"burgers\"}\r\n                >\r\n                    <div className={cStyles.recipe}>\r\n                        {filling.map((item, i) =>\r\n                            <MovedElement key={item.unicId} index={i} id={item.unicId} moveElement={moveElement}>\r\n                                <DragIcon type=\"primary\" />\r\n                                <ConstructorElement\r\n                                    text={item.name}\r\n                                    price={item.price}\r\n                                    thumbnail={item.image}\r\n                                    handleClose={() => dispatch(delFromRecipe(item))}\r\n                            />\r\n                        </MovedElement>\r\n                        )}\r\n                    </div>\r\n                </ScrollBox>\r\n            </div>\r\n        )\r\n    }\r\n);","import { createSlice } from '@reduxjs/toolkit';\r\nimport { loadOrderNumber } from '../../../utils/api';\r\nimport { Torders } from '../../../utils/proptypes';\r\nimport { AppThunk, AppDispatch, GetState } from '../../types/store-types';\r\n\r\nconst initialOrders: Torders = {\r\n    items: [],\r\n    isLoading: false,\r\n    isError: false,\r\n    openDetails: false,\r\n    currentNumber: null\r\n};\r\n\r\nconst ordersSlice = createSlice({\r\n    name: 'orders',\r\n    initialState: initialOrders,\r\n    reducers: {\r\n        closeDetails: (state) => {\r\n            state.openDetails = false;\r\n            state.currentNumber = null\r\n        },\r\n        orderLoading: (state) => {\r\n            state.openDetails = true;\r\n            state.isLoading = true;\r\n            state.isError = false\r\n        },\r\n        orderError: (state) => {\r\n            state.isLoading = false;\r\n            state.isError = true\r\n        },\r\n        orderSuccess: (state, action) => {\r\n            state.items = [...state.items, action.payload];\r\n            state.currentNumber = action.payload.number;\r\n            state.isLoading = false;\r\n            state.isError = false\r\n        }\r\n    },\r\n});\r\n\r\n\r\nconst { actions, reducer } = ordersSlice;\r\nconst { orderLoading, orderError, orderSuccess, closeDetails } = actions;\r\n\r\n\r\nfunction getOrderNumber(arrId: Array<string>) {\r\n    return function (dispatch: AppDispatch, getState: GetState) {\r\n        dispatch(orderLoading());\r\n        const { totalPrice, recipe } = getState().burger;\r\n        loadOrderNumber(arrId)\r\n            .then(result => dispatch(\r\n                orderSuccess({\r\n                    ...result,\r\n                    number: result.order.number,\r\n                    totalPrice,\r\n                    recipe\r\n                }))\r\n            )\r\n            .catch(e => {\r\n                console.log(\"Error with order:\", e);\r\n                dispatch(orderError())\r\n            })\r\n    }\r\n};\r\n\r\n\r\nexport {\r\n    reducer as ordersReducer, getOrderNumber,\r\n    orderLoading, orderError, orderSuccess, closeDetails,\r\n    initialOrders\r\n};","import React from 'react';\r\nimport { useEffect, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from '../../../services/types/hooks-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport cStyles from '../burger-constructor.module.css';\r\nimport { Button, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { getOrderNumber } from '../../../services/slicers/orders/orders';\r\n\r\nconst resizeCurrencyIcon = () => {\r\n    const price: Element | null = document.querySelector('#orderPrice');\r\n    const svgIcon: Element | null = price !== null ? price.querySelector('svg') : null;\r\n    const priceSize: string = price !== null ? getComputedStyle(price).fontSize : \"16px\";\r\n    if (svgIcon !== null) {\r\n        svgIcon.setAttribute('width', priceSize);\r\n        svgIcon.setAttribute('height', priceSize);\r\n    }\r\n}\r\n\r\nexport const ConfirmOrder = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const burger = useSelector(store => store.burger);\r\n    const isAuth = useSelector(store => store.profile.user.isAuth);\r\n\r\n    useEffect(() => {\r\n        resizeCurrencyIcon()\r\n    }, []);\r\n\r\n    const confirmOrder = useCallback(() => {\r\n        isAuth\r\n            ? dispatch(getOrderNumber(burger.recipe.map(ing => ing._id)))\r\n            : history.push(\"/login\")\r\n    }, [dispatch, burger.recipe])\r\n\r\n    return (\r\n        <div className={cStyles.confirm}>\r\n            <div className={cStyles.orderPrice + \" text text_type_main-large\"} id=\"orderPrice\">\r\n                <span className=\"m-3\" style={{ lineHeight: \"1\" }}>{burger.totalPrice}</span>\r\n                <CurrencyIcon type=\"primary\" />\r\n            </div>\r\n            <Button\r\n                type=\"primary\"\r\n                size=\"large\"\r\n                onClick={confirmOrder}\r\n            >\r\n                Оформить заказ\r\n            </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, {FC} from 'react';\r\nimport cStyles from '../burger-constructor.module.css';\r\n\r\nimport { Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { useDispatch } from '../../../services/types/hooks-types';\r\nimport { clearRecipe, randomRecipe } from '../../../services/slicers/burger-constructor/burger-constructor';\r\n\r\nexport const ConstructorMenu: FC = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div className={cStyles.menu}>\r\n            <Button type=\"primary\" size=\"small\" onClick={() => dispatch(randomRecipe())}>\r\n                Рецепт от нашего робота\r\n            </Button>\r\n            <Button type=\"primary\" size=\"small\" onClick={() => dispatch(clearRecipe())}>\r\n                Сбросить рецепт\r\n            </Button>\r\n        </div>\r\n    )\r\n}","import {FC} from 'react';\r\nimport oStyles from './modal-overlay.module.css';\r\n\r\ndeclare module 'react' {\r\n    interface HTMLAttributes<T> extends DOMAttributes<HTMLDivElement> {\r\n        // extends React's HTMLAttributes\r\n        onClick?: MouseEventHandler<HTMLDivElement> | undefined | null | (()=>void);\r\n    }\r\n}\r\n\r\nexport const ModalOverlay: FC<{onClose: (() => void) | null}> = (props) => {\r\n    \r\n    return (\r\n        <div className={oStyles.overlay} onClick={props.onClose}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n};\r\n","import React, { FC } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { useEffect } from 'react';\r\nimport mStyles from './modal.module.css';\r\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { ModalOverlay } from \"../modal-overlay/modal-overlay\";\r\nimport { Tmodal } from '../../utils/proptypes';\r\nconst modalRoot: Element = document.getElementById('modal')!;\r\n\r\n\r\nexport const Modal: FC<Tmodal> = React.memo(\r\n    ({ children, isLoading, onClose, title }) => {\r\n\r\n        useEffect(() => {\r\n            document.addEventListener('keydown', closeByKey);\r\n            return () => { document.removeEventListener('keydown', closeByKey) };\r\n        }, [isLoading]);\r\n\r\n        const closeByKey = (e: KeyboardEvent) => {\r\n            if (e.key === \"Escape\" && !isLoading) {\r\n                onClose()\r\n            }\r\n        }\r\n\r\n        return ReactDOM.createPortal(\r\n            (<ModalOverlay onClose={isLoading ? null : onClose}>\r\n                <div className={mStyles.modalBox} onClick={(e) => e.stopPropagation()}>\r\n                    {!isLoading && <button className={mStyles.closePosition}>\r\n                        <CloseIcon onClick={onClose} type={\"primary\"}/>\r\n                    </button>}\r\n\r\n                    {title &&\r\n                        <p className={\"text text_type_main-large\"}>\r\n                            {title}\r\n                        </p>\r\n                    }\r\n\r\n                    <div className={mStyles.content}>\r\n                        {children}\r\n                    </div>\r\n                </div>\r\n            </ModalOverlay>), modalRoot)\r\n    }\r\n);\r\n\r\n","export default __webpack_public_path__ + \"static/media/icon-done.e036971b.png\";","import React, { useEffect } from 'react';\r\nimport oStyles from \"./order-details.module.css\";\r\nimport { useState } from 'react';\r\nimport { randomInteger } from '../../utils/helpers';\r\n\r\nexport const LoaderNumber = () => {\r\n    const randomNumber = () => randomInteger(1000, 9999);\r\n    const [number, setNumber] = useState(randomNumber)\r\n\r\n    useEffect(() => {        \r\n        let timerNumber = setInterval(() =>\r\n            setNumber(randomNumber)\r\n        , 50);\r\n        return () => { clearInterval(timerNumber) };\r\n    }, [])\r\n\r\n    return(\r\n        <h1 className={oStyles.titleLoader + \" text text_type_digits-large\"}>{number}</h1>\r\n    )\r\n}","import React, { FC } from 'react';\r\nimport { Ttext } from '../../utils/proptypes';\r\nimport lStyles from './loader.module.css';\r\nimport { BurgerIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nexport const Loader:FC<Ttext> = React.memo(\r\n    ({ text = \"Загружаем...\" }) => {\r\n        const icons = [1, 2, 3, 4, 5];\r\n\r\n        return (\r\n            <div className={lStyles.container}>\r\n                <div className={lStyles.icons}>\r\n                    {icons.map(icon =>\r\n                        <div\r\n                            key={icon + \"loader\"}\r\n                            className={lStyles.icon}\r\n                            style={{\r\n                                top: (70 * Math.sin(icon * 2 * Math.PI / icons.length)) + \"px\",\r\n                                left: (70 * Math.cos(icon * 2 * Math.PI / icons.length)) + \"px\"\r\n                            }}\r\n                        >\r\n                            <BurgerIcon type=\"primary\" />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <p className=\"text text_type_main-medium\">\r\n                    {text}\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n)","import React, {FC} from 'react';\r\nimport eStyles from './error-message.module.css';\r\nimport { BurgerIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { ItextArr } from '../../utils/proptypes';\r\n\r\nexport const ErrorMessage:FC<ItextArr> = React.memo(\r\n    ({ textArr }) => {\r\n        const initialTextArr = [\"Что-то пошло не так.\", \"Попробуйте обновить страницу.\"];\r\n        const errorArr = !!textArr ? textArr : initialTextArr;\r\n        \r\n        return (\r\n            <div className={eStyles.container}>\r\n                <div className={eStyles.icons}>\r\n                    <BurgerIcon type=\"error\" />\r\n                    <BurgerIcon type=\"error\" />\r\n                    <BurgerIcon type=\"error\" />\r\n                </div>\r\n                {errorArr.map((text, i) =>\r\n                    <p className=\"text text_type_main-medium m-4\" key={i + text}>{text}</p>)\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n);","import React, { FC } from 'react';\r\nimport oStyles from \"./order-details.module.css\";\r\nimport iconDonePath from \"../../images/icon-done.png\"\r\nimport { LoaderNumber } from './order-loader-number';\r\nimport { Loader } from '../loader/loader';\r\nimport { ErrorMessage } from '../error-message/error-message';\r\nimport { Torders } from '../../utils/proptypes';\r\n\r\nexport const OrderDetails: FC<{ orders: Torders }> = React.memo(\r\n    ({ orders }) => {\r\n\r\n        return (\r\n            <div className={oStyles.container}>\r\n\r\n                {!orders.isError\r\n                    ? <>\r\n                        {orders.isLoading\r\n                            ? <LoaderNumber />\r\n                            : <h1 className={oStyles.title + \" text text_type_digits-large\"}>{orders.currentNumber}</h1>\r\n                        }\r\n                        <p className=\"text text_type_main-medium\">идентификатор заказа</p>\r\n\r\n                        {orders.isLoading\r\n                            ? < Loader text={\"\"} />\r\n                            : <img className={oStyles.icon} src={iconDonePath} alt=\"icon_done\" />\r\n                        }\r\n\r\n                        <p className=\"text text_type_main-default mb-2\">\r\n                            {orders.isLoading ? \"отправляем на кухню\" : \"ваш заказ начали готовить\"}\r\n                        </p>\r\n                        <span className=\"text text_type_main-default text_color_inactive\">Дождитесь готовности на орбитальной станции</span>\r\n                    </>\r\n                    : <ErrorMessage textArr={[\"Извините, заказ не удалось принять\", \"Попробуйте отправить его еще раз\"]} />\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n)\r\n","import React, {FC} from 'react';\r\n\r\nimport { useDispatch, useSelector } from '../../services/types/hooks-types';\r\nimport cStyles from './burger-constructor.module.css';\r\nimport { ConstructorElement } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { Filling } from './components/constructor-filling';\r\nimport { ConfirmOrder } from './components/constructor-confirm';\r\nimport { ConstructorMenu } from './components/constructor-menu';\r\nimport { Modal } from '../modal/modal';\r\nimport { OrderDetails } from '../order-details/order-details';\r\nimport { addInRecipe, clearRecipe } from '../../services/slicers/burger-constructor/burger-constructor';\r\nimport { Tfood } from '../../utils/proptypes';\r\n\r\n\r\nimport { useDrop } from \"react-dnd\";\r\n\r\ndeclare module 'react' {\r\n    interface HTMLAttributes<T> extends AriaAttributes, DOMAttributes<T> {\r\n        // extends React's HTMLAttributes\r\n        drop?: string;\r\n        drag?: string;\r\n    }\r\n}\r\n\r\nexport const BurgerConstructor: FC = () => {\r\n    const burger = useSelector(store => store.burger);\r\n    const orders = useSelector(store => store.orders);\r\n    const dispatch = useDispatch();\r\n\r\n    const onDropHandler = (item: Tfood) => {\r\n        dispatch(addInRecipe(item));\r\n    };\r\n\r\n    const [{ canDrop, isOver }, dropTarget] = useDrop({\r\n        accept: \"food\",\r\n        drop: (item: Tfood) => onDropHandler(item),\r\n        collect: (monitor) => ({\r\n            isOver: monitor.isOver(),\r\n            canDrop: monitor.canDrop()\r\n        }),\r\n    });\r\n\r\n    const onCloseOrder = () => {\r\n        dispatch({ type: 'orders/closeDetails' });\r\n        dispatch(clearRecipe());\r\n    }\r\n\r\n    return (\r\n        <article className={cStyles.main} >\r\n            <ConstructorMenu />\r\n\r\n            <div className={cStyles.dropContainer} id=\"dropContainer\"\r\n                ref={dropTarget}\r\n                drop={String(isOver && canDrop)}\r\n                drag={String(!isOver && canDrop )}\r\n            >\r\n                {!!burger.bun &&\r\n                    <ConstructorElement\r\n                        type=\"top\"\r\n                        isLocked={true}\r\n                        text={burger.bun.name + \" (верх)\"}\r\n                        price={burger.bun.price}\r\n                        thumbnail={burger.bun.image}\r\n                    />\r\n                }\r\n                {!!burger.filling.length &&\r\n                    <Filling\r\n                        isDrag={isOver && canDrop}\r\n                        canDrop={canDrop}\r\n                    />\r\n                }\r\n                {!!burger.bun &&\r\n                    <ConstructorElement\r\n                        type=\"bottom\"\r\n                        isLocked={true}\r\n                        text={burger.bun.name + \" (низ)\"}\r\n                        price={burger.bun.price}\r\n                        thumbnail={burger.bun.image}\r\n                    />\r\n                }\r\n            </div>\r\n\r\n            {(!!burger.bun && !!burger.filling.length) &&\r\n                <ConfirmOrder />\r\n            }\r\n\r\n            <div style={{ overflow: 'hidden' }}>\r\n                {orders.openDetails &&\r\n                    <Modal onClose={onCloseOrder} isLoading={orders.isLoading}>\r\n                        <OrderDetails orders={orders} />\r\n                    </Modal>\r\n                }\r\n            </div>\r\n        </article >\r\n    )\r\n}\r\n","import React, {FC} from 'react';\r\nimport { useSelector } from '../../services/types/hooks-types';\r\nimport pStyles from '../pages.module.css';\r\nimport { BurgerIngredients } from '../../components/burger-ingredients/burger-ingredients';\r\nimport { BurgerConstructor } from '../../components/burger-constructor/burger-constructor';\r\nimport { ErrorMessage } from '../../components/error-message/error-message';\r\nimport { Loader } from '../../components/loader/loader';\r\n\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\n\r\nexport const BurgerConstructorPage: FC = () => {\r\n    const { isLoading, isError, isLoaded } = useSelector(store => store.foods);\r\n\r\n    return (\r\n        <>\r\n            {isLoaded &&\r\n                <DndProvider backend={HTML5Backend}>\r\n                    <div className={pStyles.content}>\r\n                        <BurgerIngredients />\r\n                        <BurgerConstructor />\r\n                    </div>\r\n                </DndProvider>\r\n            }\r\n            {isLoading && <Loader text={\"Обновляем меню\"} />}\r\n            {isError && <ErrorMessage />}            \r\n        </>\r\n    )\r\n}","import React, { FC } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport fStyles from './form.module.css';\r\nimport { TFooterLinksProps } from \"../../utils/proptypes\";\r\n\r\nexport const AuthFormFooter: FC<TFooterLinksProps> = ({ footerLinks }) => {\r\n    return (\r\n        <div className={fStyles.footer}>\r\n            {footerLinks.map((link, i) =>\r\n                <div key={i} className={fStyles.footerBlock}>\r\n                    <span className={`text text_type_main-default ${fStyles.footerDesc}`}>{link.desc}</span>\r\n                    &nbsp;&nbsp;\r\n                    <Link to={link.pathname}>\r\n                        <span className={`text text_type_main-default ${fStyles.footerLink}`}> {link.text} </span>\r\n                    </Link>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}","import React, { FC, useEffect } from \"react\";\r\nimport { TAuthFormProps } from '../../utils/proptypes';\r\nimport { useDispatch, useSelector } from '../../services/types/hooks-types';\r\nimport fStyles from './form.module.css';\r\nimport { Input, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { AuthFormFooter } from \"./auth-form-footer\";\r\n\r\nexport const AuthForm: FC<TAuthFormProps> = ({ data }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { title, arrInputs, footerLinks, confirm } = data;\r\n    const inputs = useSelector(store => store.authForm.arrInputs);\r\n\r\n    useEffect(() => {\r\n        dispatch({type: \"auth/setInputs\", payload: arrInputs})\r\n    }, []);\r\n\r\n    const confirmForm = (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n        confirm.callback();\r\n    }\r\n\r\n    return (\r\n        <form className={fStyles.form} onSubmit={(event) => confirmForm(event)}>\r\n            {!!title && <h2 className=\"text text_type_main-medium\">{title}</h2>}\r\n            {inputs.map(input =>\r\n                <Input\r\n                    key={input.name}\r\n                    type={input.type}\r\n                    name={input.name}\r\n                    value={input.value}\r\n                    icon={input.type === \"password\" ? \"HideIcon\" : input.icon!}\r\n                    placeholder={input.placeholder}\r\n                    onChange={(event) => dispatch({type: \"auth/handleInput\", payload: {name: input.name, value: event.target.value}})}\r\n                    onIconClick={() => dispatch({type: \"auth/handleIcon\", payload: input})}\r\n                />\r\n            )}\r\n            <Button>\r\n                {!!confirm.text ? confirm.text : \"Отправить\"}\r\n            </Button>\r\n            {!!footerLinks && <AuthFormFooter footerLinks={footerLinks} />}\r\n        </form>\r\n    )\r\n}","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { TprofileState } from './profile-types';\r\nimport { AppThunk, AppDispatch, GetState } from '../../types/store-types';\r\nimport { TinputsForm } from '../../../utils/proptypes';\r\nimport { batch } from 'react-redux';\r\nimport { getUser, updateUser, login, register, logout, checkEmail, setNewPass } from '../../../utils/api';\r\nimport { setCookie } from \"../../../utils/helpers\";\r\nimport { updateToken } from '../../../utils/api';\r\n\r\n//test USER is:\r\n// {\r\n//     name: John,\r\n//     email: aa@aa.ru, либо dd@dd.ru\r\n//     password: 1234\r\n// }\r\n\r\nconst initialProfile: TprofileState = {\r\n    user: {\r\n        email: \"\",\r\n        name: \"\",\r\n        isAuth: false,\r\n        canRestorePass: false,\r\n    },\r\n    form: {\r\n        inputs: {\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\"\r\n        },\r\n    },\r\n\r\n\r\n    profileIsLoading: false,\r\n    porfileIsLoaded: false,\r\n    profileIsError: false\r\n};\r\n\r\nexport const profileSlice = createSlice({\r\n    name: 'profile',\r\n    initialState: initialProfile,\r\n    reducers: {\r\n        profileLoading: (state) => {\r\n            state.profileIsLoading = true;\r\n            state.profileIsError = false;\r\n            state.porfileIsLoaded = false;\r\n        },\r\n        profileIsError: (state) => {\r\n            state.profileIsLoading = false;\r\n            state.profileIsError = true;\r\n            state.porfileIsLoaded = false;\r\n        },\r\n        profileSuccess: (state, action) => {\r\n            state.profileIsLoading = false;\r\n            state.profileIsError = false;\r\n            state.porfileIsLoaded = true;\r\n        },\r\n        setProfile: (state, action: PayloadAction<any>) => {\r\n            state.user = { ...action.payload, isAuth: true };\r\n\r\n            state.form.inputs.email = action.payload.email;\r\n            state.form.inputs.name = action.payload.name;\r\n        },\r\n        clearProfile: (state) => initialProfile,\r\n        onChangeInput: (state, action) => {\r\n            const { key, value } = action.payload;\r\n            state.form.inputs = { ...state.form.inputs, [key]: value }\r\n        },\r\n        toggleRestorePass: (state) => {\r\n            state.user = { ...state.user, canRestorePass: !state.user.canRestorePass }\r\n        }\r\n    }\r\n})\r\n\r\n\r\nconst getUserProfile: AppThunk = () => {\r\n    return (dispatch: AppDispatch) => {\r\n        updateToken()\r\n            .then(() => getUser())\r\n            .then(res => dispatch(setProfile(res.user)))\r\n            .then(() => dispatch({ type: \"wsOrders/wsInit\" }))\r\n            .catch((err) => {\r\n                console.log(\"Err with get User\", err);\r\n                dispatch(profileIsError())\r\n            })\r\n    }\r\n}\r\n\r\nconst loginUser = () => {\r\n    return (dispatch: AppDispatch, getState: GetState ) => {\r\n        const data = getState().authForm.data;\r\n\r\n        dispatch({ type: \"profile/profileLoading\" });\r\n        login(data)\r\n            .then(res => {\r\n                const newUser = {\r\n                    name: res.user.name,\r\n                    email: res.user.email\r\n                };\r\n                localStorage.setItem('refreshToken', res.refreshToken);\r\n                setCookie(\"accessToken\", res.accessToken.split('Bearer ')[1]);\r\n\r\n                batch(() => {\r\n                    dispatch({ type: \"profile/setProfile\", payload: newUser });\r\n                    dispatch({ type: \"profile/profileSuccess\" });\r\n                    dispatch({ type: \"auth/clearForm\" });\r\n                })\r\n                return\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error with login\", err);\r\n                dispatch({ type: \"profile/profileIsError\" });\r\n            })\r\n    }\r\n};\r\n\r\nconst registerUser = () => {\r\n    return (dispatch: AppDispatch, getState: GetState) => {\r\n        const data = getState().authForm.data;\r\n\r\n        dispatch({ type: \"profile/profileLoading\" });\r\n        register(data)\r\n            .then(res => {\r\n                const newUser = {\r\n                    name: res.user.name,\r\n                    email: res.user.email\r\n                };\r\n                batch(() => {\r\n                    dispatch({ type: \"profile/setProfile\", payload: newUser });\r\n                    dispatch({ type: \"profile/profileSuccess\" });\r\n                    dispatch({ type: \"auth/clearForm\" });\r\n                })\r\n                localStorage.setItem('refreshToken', res.refreshToken);\r\n                setCookie(\"accessToken\", res.accessToken.split('Bearer ')[1]);\r\n                return\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error with register\", err);\r\n                dispatch({ type: \"profile/profileIsError\" });\r\n            })\r\n    }\r\n};\r\n\r\nconst logoutUser: AppThunk = () => {\r\n    return (dispatch: AppDispatch) => {\r\n        logout()\r\n            .then(() => {\r\n                dispatch(clearProfile());\r\n                localStorage.removeItem('refreshToken');\r\n                setCookie(\"accessToken\", null);\r\n                return\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"Err with logout User\", err);\r\n            })\r\n    }\r\n}\r\n\r\nconst updateUserProfile = (data: TinputsForm) => {\r\n    return (dispatch: AppDispatch) => {\r\n        updateToken()\r\n            .then(() => updateUser(data))\r\n            .then((res:any) => dispatch(setProfile(res.user)))\r\n            .catch((err) => {\r\n                console.log(\"Err with update User\", err);\r\n                dispatch(profileIsError())\r\n            })\r\n    }\r\n}\r\n\r\nconst resetPass = () => {\r\n    return (dispatch: AppDispatch, getState: GetState) => {\r\n        const data = getState().authForm.data;\r\n        checkEmail(data)\r\n            .then(() => dispatch(toggleRestorePass))\r\n            .catch(err => console.log(\"Error with reset pass\", err))\r\n    }\r\n};\r\n\r\n\r\nconst restorePass = () => {\r\n    return (dispatch: AppDispatch, getState: GetState) => {\r\n        const data = getState().authForm.data;\r\n        setNewPass(data)\r\n            .then(() => dispatch(toggleRestorePass))\r\n            .catch(err => console.log(\"Error with set new pass\", err))\r\n    }\r\n};\r\n\r\nconst { reducer, actions } = profileSlice;\r\nconst { setProfile, clearProfile,\r\n    profileLoading, profileSuccess, profileIsError,\r\n    onChangeInput, toggleRestorePass } = actions;\r\n\r\nexport {\r\n    reducer as profileReducer,\r\n    setProfile, clearProfile,\r\n    profileLoading, profileSuccess, profileIsError,\r\n    onChangeInput, toggleRestorePass,\r\n    getUserProfile,\r\n    loginUser,\r\n    registerUser,\r\n    logoutUser,\r\n    updateUserProfile,\r\n    resetPass,\r\n    restorePass,\r\n    initialProfile\r\n}\r\n\r\n","import React, {FC} from \"react\";\r\nimport { TConfirmForm, Tinputs, TfooterLink, IlocationState } from \"../../utils/proptypes\";\r\nimport { useDispatch, useSelector } from \"../../services/types/hooks-types\";\r\nimport { useLocation, Redirect } from 'react-router-dom';\r\nimport { AuthForm } from \"../../components/auth-form/auth-form\";\r\nimport { loginUser } from \"../../services/slicers/profile/profile\";\r\n\r\nexport const LoginPage:FC = () => {\r\n    const location = useLocation<IlocationState>();\r\n    const isAuth = useSelector(store => store.profile.user.isAuth);\r\n    const dispatch = useDispatch();\r\n\r\n    const arrInputs: Tinputs = [\r\n        { name: \"email\", type: \"email\", placeholder: \"E-mail\", value: \"\" },\r\n        { name: \"password\", type: \"password\", placeholder: \"Пароль\", value: \"\" },\r\n    ];\r\n    const footerLinks: Array<TfooterLink> = [\r\n        { desc: \"Вы - новый пользователь?\", text: \"Зарегистрироваться\", pathname: \"/register\" },\r\n        { desc: \"Забыли пароль?\", text: \"Восстановить пароль\", pathname: \"/forgot-password\" },\r\n    ];\r\n\r\n    const confirm: TConfirmForm = {\r\n        callback: () => dispatch(loginUser()),\r\n        text: \"Войти\"\r\n    };\r\n\r\n    const title: string = \"Вход\";\r\n\r\n\r\n    return isAuth\r\n        ? <Redirect to={location.state?.from || '/'} />\r\n        : <AuthForm data={{ title, arrInputs, footerLinks, confirm }} />\r\n}","import React, {FC} from \"react\";\r\nimport { TConfirmForm, Tinputs, TfooterLink } from \"../../utils/proptypes\";\r\nimport { useDispatch, useSelector } from \"../../services/types/hooks-types\";\r\nimport { AuthForm } from \"../../components/auth-form/auth-form\";\r\nimport { registerUser } from \"../../services/slicers/profile/profile\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport const RegisterPage:FC = () => {\r\n    const arrInputs: Tinputs = [\r\n        { name: \"name\", type: \"text\", placeholder: \"Имя\", value: \"\" },\r\n        { name: \"email\", type: \"email\", placeholder: \"E-mail\", value: \"\" },\r\n        { name: \"password\", type: \"password\", placeholder: \"Пароль\", value: \"\" },\r\n    ];\r\n\r\n    const footerLinks: Array<TfooterLink> = [\r\n        { desc: \"Уже зарегистрированы?\", text: \"Войти\", pathname: \"/login\" }\r\n    ];\r\n\r\n    const title: string = \"Регистрация\";\r\n    \r\n\r\n    const confirm: TConfirmForm = {\r\n        callback: () => dispatch(registerUser()),\r\n        text: \"Зарегистрироваться\"\r\n    };\r\n\r\n    const dispatch = useDispatch();    \r\n    const isAuth = useSelector(store => store.profile.user.isAuth);\r\n\r\n    return isAuth\r\n        ? <Redirect to={'/'} />\r\n        : <AuthForm data={{ title, arrInputs, footerLinks, confirm }} />\r\n}\r\n\r\n\r\n","import React, {FC} from \"react\";\r\nimport { TConfirmForm, Tinputs, TfooterLink } from \"../../utils/proptypes\";\r\nimport { AuthForm } from \"../../components/auth-form/auth-form\";\r\nimport { useDispatch, useSelector } from \"../../services/types/hooks-types\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { resetPass } from \"../../services/slicers/profile/profile\";\r\n\r\nexport const ForgotPassPage: FC = () => {\r\n    const arrInputs: Tinputs = [\r\n        { name: \"email\", type: \"email\", placeholder: \"Укажите e-mail\", value: \"\" }\r\n    ];\r\n    const footerLinks: Array<TfooterLink> = [\r\n        { desc: \"Вспомнили пароль?\", text: \"Войти\", pathname: \"/login\" }\r\n    ];\r\n\r\n    const title: string = \"Восстановление пароля\";\r\n\r\n    const isAuth = useSelector(store => store.profile.user.isAuth);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const confirm: TConfirmForm = {\r\n        callback: () => dispatch(resetPass()),\r\n        text: \"Восстановить\"\r\n    };\r\n\r\n    return isAuth\r\n        ? <Redirect to={'/'} />\r\n        : <AuthForm data={{ title, arrInputs, footerLinks, confirm }} />\r\n}\r\n","import React, {FC} from \"react\";\r\nimport { TConfirmForm, Tinputs, TfooterLink } from \"../../utils/proptypes\";\r\nimport { useDispatch, useSelector } from \"../../services/types/hooks-types\";\r\nimport { AuthForm } from \"../../components/auth-form/auth-form\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { restorePass } from \"../../services/slicers/profile/profile\";\r\n\r\nexport const ResetPassPage: FC = () => {\r\n    const arrInputs: Tinputs = [\r\n        { name: \"password\", type: \"password\", placeholder: \"Введите новый пароль\", value: \"\" },\r\n        { name: \"token\", type: \"text\", placeholder: \"Введите код из письма\", value: \"\" },\r\n    ];\r\n\r\n    const footerLinks: Array<TfooterLink> = [\r\n        { desc: \"Вспомнили пароль?\", text: \"Войти\", pathname: \"/login\" }\r\n    ];\r\n\r\n    const title: string = \"Восстановление пароля\";\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    const confirm: TConfirmForm = {\r\n        callback: () => dispatch(restorePass()),\r\n        text: \"Восстановить\"\r\n    };\r\n\r\n    const { isAuth, canRestorePass } = useSelector(store => store.profile.user)\r\n\r\n    return (isAuth || !canRestorePass)\r\n        ? <Redirect to={'/'} /> : <AuthForm data={{ title, arrInputs, footerLinks, confirm }} />\r\n}","import React from 'react';\r\nimport pStyles from '../pages.module.css';\r\n\r\nexport const NoPage = () =>\r\n    <h1 className={pStyles.noPage + \" text text_type_main-large\"}>В этой Вселенной страницы такой не существует пока</h1>\r\n\r\nexport const NoOrderPage = () =>\r\n    <h1 className={pStyles.noOrderPage + \" text text_type_main-medium\"}>Номер заказа неизвестный указан</h1>\r\n\r\nexport const NoOrdersPage = () =>\r\n    <h1 className={pStyles.noOrderPage + \" text text_type_main-medium\"}>Не созданы заказы ещё</h1>","\r\nimport React, { FC } from 'react';\r\nimport dStyles from './ingredients-details.module.css';\r\nimport { Tfood } from '../../utils/proptypes';\r\n\r\nexport const IngredientDescription: FC<{ ingredient: Tfood }> = React.memo(\r\n    ({ ingredient, children }) => {\r\n\r\n        return (\r\n            <div className={dStyles.container}>\r\n                <img className={dStyles.image} src={ingredient.image_large} alt={ingredient.name} />\r\n                <h3 className=\"text text_type_main-medium mb-4 mt-4\">{ingredient.name}</h3>\r\n                <div className={dStyles.composition + \" mt-4 mb-8\"}>\r\n                    <div className={dStyles.composeItem}>\r\n                        <span className=\"text text_type_main-default text_color_inactive mb-2\">Калории, кКал</span>\r\n                        <span className=\"text text_type_digits-default text_color_inactive mb-2\">{ingredient.calories}</span>\r\n                    </div>\r\n                    <div className={dStyles.composeItem}>\r\n                        <span className=\"text text_type_main-default text_color_inactive mb-2\">Белки, г</span>\r\n                        <span className=\"text text_type_digits-default text_color_inactive mb-2\">{ingredient.proteins}</span>\r\n                    </div>\r\n                    <div className={dStyles.composeItem}>\r\n                        <span className=\"text text_type_main-default text_color_inactive mb-2\">Жиры, г</span>\r\n                        <span className=\"text text_type_digits-default text_color_inactive mb-2\">{ingredient.fat}</span>\r\n                    </div>\r\n                    <div className={dStyles.composeItem}>\r\n                        <span className=\"text text_type_main-default text_color_inactive mb-2\">Углеводы, г</span>\r\n                        <span className=\"text text_type_digits-default text_color_inactive mb-2\">{ingredient.carbohydrates}</span>\r\n                    </div>\r\n                </div>\r\n                {!!children && children}\r\n            </div>\r\n        )\r\n    }\r\n)","\r\nimport React, {FC} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { useDispatch, useSelector } from '../../services/types/hooks-types';\r\nimport { IngredientDescription } from './ingredient-desc';\r\nimport { addInRecipe } from '../../services/slicers/burger-constructor/burger-constructor';\r\nimport { Tfood } from '../../utils/proptypes';\r\n\r\nexport const IngredientsDetails: FC<{ingredient: Tfood}> = React.memo(\r\n    ({ ingredient }) => {\r\n        const bun = useSelector(store => store.burger.bun);\r\n        const dispatch = useDispatch();\r\n        const history = useHistory();\r\n\r\n        const addIngredient = () => {     \r\n            dispatch(addInRecipe(ingredient));\r\n            dispatch({ type: 'ingredient/closeIngredient' });\r\n            history.push('/');\r\n        }\r\n\r\n        return (\r\n            <IngredientDescription ingredient={ingredient}>\r\n                {(ingredient.type !== \"bun\" || JSON.stringify(ingredient) !== JSON.stringify(bun))\r\n                    && <Button type=\"primary\" size=\"medium\" onClick={addIngredient}>\r\n                    {(ingredient.type === \"bun\" && !!bun)\r\n                        ? \"Заменить булку в бургере\"\r\n                        : \"Добавить к бургеру\"}\r\n                    </Button>\r\n                }\r\n            </IngredientDescription>\r\n        )\r\n    }\r\n)","import React, { FC, useState, useEffect } from \"react\";\r\nimport pStyles from '../pages.module.css';\r\nimport { useDispatch, useSelector } from '../../services/types/hooks-types';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { IngredientDescription } from \"../../components/ingredient-details/ingredient-desc\";\r\nimport { IngredientsDetails } from '../../components/ingredient-details/ingredients-details';\r\nimport { Modal } from '../../components/modal/modal';\r\nimport { ErrorMessage } from '../../components/error-message/error-message';\r\nimport { Loader } from '../../components/loader/loader';\r\nimport { NoPage } from \"..\";\r\nimport { Tfood } from \"../../utils/proptypes\";\r\n\r\nexport const IngredientPageModal = () => {\r\n    const ingredient = useSelector(store => store.ingredient);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const closeModal = () => {\r\n        dispatch({ type: \"ingredient/closeIngredient\" });\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <div style={{ position: \"fixed\", overflow: \"hidden\" }}>\r\n            {ingredient.show &&\r\n                <Modal\r\n                    title=\"Детали ингредиента\"\r\n                    onClose={closeModal}\r\n                    children={<IngredientsDetails ingredient={ingredient.item!} />}\r\n                />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const IngredientPage = () => {\r\n    const { id } = useParams<{id: string}>();\r\n    const { isLoading, isError, isLoaded, items } = useSelector(store => store.foods);\r\n    const [ingredient, setIngredient] = useState<Tfood>();\r\n\r\n    useEffect(() => {\r\n        if (!!items.length) {\r\n            const ingred = items.find(item => item._id === id);\r\n            if (!!ingred) {\r\n                setIngredient(ingred)\r\n            }\r\n        }\r\n    }, [isLoaded, items, id]);\r\n\r\n    return (\r\n        <div className={pStyles.modalPage}>\r\n            {isLoaded &&\r\n                <>\r\n                    {!!ingredient\r\n                        ? <IngredientDescription ingredient={ingredient} />\r\n                        : <NoPage />}\r\n                </>\r\n            }\r\n            {isLoading && <Loader text={\"Ищем на кухне\"} />}\r\n            {isError && <ErrorMessage />}\r\n\r\n        </div>\r\n    )\r\n}","import React, { FC } from 'react';\r\nimport bStyles from './burger-card.module.css';\r\nimport { TburgerCard, TimageIngredient } from '../../utils/proptypes';\r\n\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { useDispatch } from '../../services/types/hooks-types';\r\n\r\nexport const BurgerCard: FC<TburgerCard> = React.memo(\r\n    ({ burger }) => {\r\n        const location = useLocation();\r\n        const dispatch = useDispatch();\r\n        const { _id, number, name, ingredients, total, createdAt } = burger;\r\n\r\n        return (\r\n            <Link to={{\r\n                pathname: `${location.pathname}/${_id}`,\r\n                state: { background: location }\r\n            }}>\r\n                <div className={bStyles.card} onClick={() => dispatch({ type: \"burgerOrder/openOrder\", payload: burger })}>\r\n                    <div className={bStyles.cardHeader}>\r\n                        <BurgerNumber number={number} />\r\n                        <BurgerTime time={createdAt} />\r\n                    </div>\r\n                    <p className=\"text text_type_main-medium\">{name}</p>\r\n\r\n                    <div className={bStyles.cardFooter}>\r\n                        <CardFoods images={ingredients.map(ing => ing.image)} />\r\n                        <BurgerPrice total={total} />\r\n                    </div>\r\n\r\n                </div>\r\n            </Link>\r\n        )\r\n\r\n    }\r\n)\r\n\r\nconst CardFoods: FC<{ images: Array<string> }> = ({ images }) => {\r\n    const bigBurger = images.length > 6;\r\n    const items = [...images].reverse(); //reverse & reverse-row for right negative margin\r\n\r\n    return (\r\n        <div className={bStyles.cardImages}>\r\n            {items.map((item, i) =>\r\n                i < 6 && <BurgerIngredientImage\r\n                    key={i}\r\n                    image={item}\r\n                    text={(i === 0 && bigBurger) ? \"+\" + (items.length - 5) : \"\"}\r\n                    type={\"row\"}\r\n                />)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n//--design components--//\r\n\r\nexport const BurgerTime: FC<{ time: string }> = ({ time }) => {\r\n    const curTime = () => {\r\n        const burgerDate = new Date(time);\r\n        const burgerDay = burgerDate.getDate();\r\n        const burgerMonth = burgerDate.getMonth();\r\n        const burgerYear = burgerDate.getFullYear();\r\n        const curDay = new Date().getDate();\r\n        const prevMonthDays = new Date(burgerYear, burgerMonth + 1, 0).getDate();\r\n\r\n        let diffDays: number = curDay >= burgerDay ? curDay - burgerDay : prevMonthDays + curDay - burgerDay;\r\n        const timeLabel: string =\r\n            diffDays === 0 ? \"Сегодня \" :\r\n                diffDays === 1 ? \"Вчера \" :\r\n                    diffDays % 10 === 2 || diffDays % 10 === 3 || diffDays % 10 === 4 ? String(diffDays) + \" дня назад \"\r\n                        : diffDays % 10 === 1 ? String(diffDays) + \" день назад\"\r\n                            : String(diffDays) + \" дней назад \";\r\n        const zoneLabel: string = \" i-GMT\" + burgerDate.toTimeString().substring(12, 18).replaceAll(\"0\", \"\");\r\n\r\n        let timeString =\r\n            timeLabel +\r\n            burgerDate.getHours() + \":\" +\r\n            burgerDate.getMinutes() +\r\n            zoneLabel;\r\n        return timeString\r\n    };\r\n\r\n    return (\r\n        <p className=\"text text_type_main-default\" style={{ color: \"var(--text-secondary-color)\" }}>{curTime()}</p>\r\n    )\r\n}\r\n\r\nexport const BurgerIngredientImage: FC<TimageIngredient> = ({ image, text, type }) => {\r\n    const styleText = {\r\n            zIndex: 100\r\n    } as const;\r\n\r\n    return (\r\n        <div className={bStyles.imageContainer} style={type === \"row\" ? { marginRight: \"-16px\" } : {}}>\r\n            <div\r\n                className={!!text ? bStyles.cardImageBlur : bStyles.cardImage}\r\n                style={{ backgroundImage: \"url(\" + image + \")\" }}\r\n            >\r\n                {!!text &&\r\n                    <span className=\"text text_type_digits-default\" style={styleText}>\r\n                        {text}\r\n                    </span>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const BurgerPrice: FC<{total:number}> = ({ total }) =>\r\n    <div className={bStyles.cardTotal}>\r\n        <span className=\"text text_type_digits-default mr-2\">{total}</span>\r\n        <CurrencyIcon type={\"primary\"}/>\r\n    </div>;\r\n\r\nexport const BurgerNumber: FC<{ number: number }> = ({ number }) =>\r\n    <p className=\"text text_type_digits-default\">\r\n        #{number}\r\n    </p>;","import { FC } from \"react\";\r\nimport { TfeedBurger } from '../../utils/proptypes';\r\nimport fStyles from './feed-burgers.module.css';\r\nimport { ScrollBox } from '../scrollbox/scrollbox';\r\nimport { BurgerCard } from '../burger-card/burger-card';\r\n\r\nexport const FeedBurgers: FC<TfeedBurger> = ({ title, burgers }) => {\r\n    \r\n    return (\r\n        <article className={fStyles.burgers}>\r\n            {!!title && <h1 className={\"text text_type_main-large mb-3 mt-10\"}>{title}</h1>}\r\n            <ScrollBox\r\n                bottom={16}\r\n                id={\"feed\"}\r\n            >\r\n                <div>\r\n                    {burgers.map(burger =>\r\n                        <BurgerCard key={burger._id} burger={burger} />)}\r\n                </div>\r\n            </ScrollBox>\r\n        </article>\r\n    )\r\n}\r\n","import React, { FC, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"../../services/types/hooks-types\";\r\nimport pStyles from './profile.module.css';\r\nimport { Switch, NavLink, Route, Redirect, useRouteMatch} from 'react-router-dom';\r\nimport { Input } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { logoutUser } from \"../../services/slicers/profile/profile\";\r\nimport { Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { FeedBurgers } from \"../../components/feed-burgers/feed-burgers\";\r\nimport { BurgerOrderPage } from \"..\";\r\nimport { onChangeInput, updateUserProfile } from \"../../services/slicers/profile/profile\";\r\nimport { Loader } from \"../../components/loader/loader\";\r\nimport { ErrorMessage } from \"../../components/error-message/error-message\";\r\nimport { NoOrdersPage } from \"..\";\r\n\r\n\r\nexport const ProfilePage: FC = () => {\r\n    const { path } = useRouteMatch();\r\n\r\n    return (\r\n        <div className={pStyles.profile}>\r\n            <ProfileMenu />\r\n            <Switch>\r\n                <Route path={`${path}`} exact><ProfileForm /></Route>\r\n                <Route path={`${path}/orders`} exact><ProfileOrders /></Route>\r\n\r\n                <Route path={`${path}/orders/:id`} exact>\r\n                    <BurgerOrderPage type={\"profile\"} />\r\n                </Route>\r\n                <Route><Redirect to={`${path}`} /></Route>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileMenu: FC = () => {\r\n    const { url } = useRouteMatch();\r\n    const dispatch = useDispatch();\r\n\r\n    const classLink = `text text_type_main-medium ${pStyles.link}`;\r\n    const classActiveLink = `text text_type_main-medium ${pStyles.activeLink}`;\r\n\r\n    return (\r\n        <div className={pStyles.menu}>\r\n            <NavLink exact to={`${url}`} className={classLink} activeClassName={classActiveLink}>Профиль</NavLink>\r\n            <NavLink to={`${url}/orders`} className={classLink} activeClassName={classActiveLink}>История заказов</NavLink>\r\n            <span className={classLink} onClick={() => dispatch(logoutUser())}>Выход</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileForm: FC = () => {\r\n    const form = useSelector(store => store.profile.form);\r\n    const dispatch = useDispatch();\r\n\r\n    const changeProfile = (event: React.FormEvent) => {\r\n        event.preventDefault();\r\n        dispatch(updateUserProfile(form.inputs))\r\n    }\r\n\r\n    return (\r\n        <form className={pStyles.form} onSubmit={(event) => changeProfile(event)} id=\"profileForm\">\r\n            <Input\r\n                type={\"text\"}\r\n                value={form.inputs.name}\r\n                placeholder={\"Имя\"}\r\n                icon={\"EditIcon\"}\r\n                onChange={(event) => dispatch(onChangeInput({ key: \"name\", value: event.target.value }))}\r\n            />\r\n            <Input\r\n                type={\"email\"}\r\n                value={form.inputs.email}\r\n                placeholder={\"E-mail\"}\r\n                icon={\"EditIcon\"}\r\n                onChange={(event) => dispatch(onChangeInput({ key: \"email\", value: event.target.value }))}\r\n            />\r\n            <Input\r\n                type={\"password\"}\r\n                value={form.inputs.password}\r\n                placeholder={\"Пароль\"}\r\n                icon={\"EditIcon\"}\r\n                onChange={(event) => dispatch(onChangeInput({ key: \"password\", value: event.target.value }))}\r\n            />\r\n            <div className={pStyles.formSubmit}>\r\n                <Button>\r\n                    Сохранить\r\n                </Button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst ProfileOrders: FC = () => {\r\n    const { orders, success, isError } = useSelector(store => store.wsOrders);\r\n    const isLoadedFoods = useSelector(store => store.foods.isLoaded);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (isLoadedFoods && !success) {\r\n            dispatch({ type: \"wsOrders/wsInit\" });\r\n        }\r\n    }, [isLoadedFoods, success, dispatch]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch({ type: \"wsOrders/wsClosed\" });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {(!!orders && success)\r\n                ? (!!orders.length ? <FeedBurgers burgers={orders} /> : <NoOrdersPage />)\r\n                : <Loader text={\"Уточняем на кухне\"} />}\r\n            {isError && <ErrorMessage />}\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState, FC } from 'react';\r\nimport fStyles from './feed-status.module.css';\r\nimport { useSelector } from '../../services/types/hooks-types';\r\nimport { TfeedStatusArrs, IstatusColumns, IstatusCount } from '../../utils/proptypes';\r\n\r\nexport const FeedStatus: FC = () => {\r\n    const { orders, total, totalToday } = useSelector(store => store.wsFeed);\r\n    const [state, setState] = useState<TfeedStatusArrs>({\r\n        arrDone: [],\r\n        arrNotReady: []\r\n    });\r\n\r\n    useEffect(() => {\r\n\r\n        if (!!orders && orders.length) {\r\n            setState({\r\n                arrDone: (orders.filter(b => b.status === \"done\")).map(b => b.number),\r\n                arrNotReady: (orders.filter(b => b.status !== \"done\")).map(b => b.number),\r\n            })\r\n        }\r\n\r\n    }, [orders]);\r\n\r\n    return (\r\n        <article className={fStyles.status}>\r\n            <div className={fStyles.data}>\r\n                <StatusColumns title=\"Готовы:\" arr={state.arrDone} type=\"primary\"></StatusColumns>\r\n                <StatusColumns title=\"В работе:\" arr={state.arrNotReady} type=\"secondary\"></StatusColumns>\r\n            </div>\r\n            <div className={fStyles.total}>\r\n                <StatusCount title=\"Выполнено за всё время:\" count={total} />\r\n                <StatusCount title=\"Выполнено за сегодня:\" count={totalToday} />\r\n            </div>\r\n        </article>\r\n    )\r\n}\r\n\r\nconst StatusColumns:FC<IstatusColumns> = React.memo(\r\n    ({ arr, title, type }) =>\r\n        <div className={fStyles.columns}>\r\n            <h3 className=\"text text_type_main-medium mb-6\">{title}</h3>\r\n            <div className={fStyles.digits}>\r\n                {arr.map((item, i) =>\r\n                    i < 30 &&\r\n                    <p key={i}\r\n                        className=\"text text_type_digits-default\" style={{ color: \"var(--text-\" + type + \"-color)\" }}>\r\n                        {item}\r\n                    </p>\r\n                )}\r\n            </div>\r\n        </div>\r\n);\r\n\r\nconst StatusCount:FC<IstatusCount> = React.memo(\r\n    ({ title, count }) => {\r\n        let formatter = new Intl.NumberFormat(\"ru\");\r\n        return (\r\n            <div className={fStyles.count}>\r\n                <h3 className=\"text text_type_main-medium\">{title}</h3>\r\n                <p className={`text text_type_digits-large ${fStyles.totalDigits}`}>{formatter.format(count + 0)}</p>\r\n            </div>\r\n        )\r\n    }\r\n)","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"../../services/types/hooks-types\";\r\nimport pStyles from '../pages.module.css';\r\nimport { ErrorMessage } from '../../components/error-message/error-message';\r\nimport { Loader } from '../../components/loader/loader';\r\nimport { FeedBurgers } from '../../components/feed-burgers/feed-burgers';\r\nimport { FeedStatus } from '../../components/feed-status/feed-status';\r\n\r\nexport const FeedPage = () => {\r\n    const { orders, success, isError } = useSelector(store => store.wsFeed);\r\n    const isLoadedFoods = useSelector(store => store.foods.isLoaded)\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (isLoadedFoods && !success) {\r\n            dispatch({ type: \"wsFeed/wsInit\" });\r\n        }\r\n    }, [isLoadedFoods, success, dispatch]);\r\n    \r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch({ type: \"wsFeed/wsClosed\" });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {(!!orders && success)\r\n                ? <div className={pStyles.content}>\r\n                    <FeedBurgers burgers={orders} title={\"Лента заказов\"} />\r\n                    <FeedStatus />\r\n                  </div >\r\n                : <Loader text={\"Уточняем на кухне\"} />\r\n            }\r\n            {isError && <ErrorMessage />}\r\n        </>\r\n    )\r\n}","\r\nimport React, { FC } from 'react';\r\nimport oStyles from './burger-order.module.css';\r\nimport { BurgerNumber, BurgerPrice, BurgerTime, BurgerIngredientImage } from \"../burger-card/burger-card\";\r\nimport { ScrollBox } from '../scrollbox/scrollbox';\r\nimport { TorderProps, TorderRecipeProps, TorderIngredientProps } from '../../utils/proptypes';\r\n\r\n\r\nexport const BurgerOrder: FC<TorderProps> = ({ order }) => {\r\n\r\n    const { name, number, _id, status, ingredients, createdAt, total } = order;\r\n\r\n    return (\r\n        <div className={oStyles.order}>\r\n            <div className={oStyles.header}>\r\n                <BurgerNumber number={number} />\r\n            </div>\r\n\r\n            <h1 className=\"text text_type_main-medium\">{name}</h1>\r\n\r\n            <span className=\"text text_type_main-default mt-3 mb-10\" style={{ color: \"var(--text-success-color\" }}>\r\n                {status === \"done\" ? \"Выполнен\" : \"Готовится\"}\r\n            </span>\r\n\r\n            <BurgerOrderRecipe ingredients={ingredients} />\r\n\r\n            <div className={oStyles.footer}>\r\n                <BurgerTime time={createdAt} />\r\n                <BurgerPrice total={total} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst BurgerOrderRecipe: FC<TorderRecipeProps> = ({ ingredients }) => {\r\n    return (\r\n        <div className={oStyles.recipe}>\r\n            <h3 className=\"text text_type_main-medium mb-6 mt-5\">Состав</h3>\r\n            <ScrollBox id={\"recipe\"}>\r\n                <div className={oStyles.ingredients}>\r\n                    {ingredients.map((ingredient, i) =>\r\n                        <OrderIngredient key={ingredient._id + i} ingredient={ingredient} />\r\n                    )}\r\n                </div>\r\n            </ScrollBox>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst OrderIngredient: FC<TorderIngredientProps> = ({ ingredient }) => {\r\n    const total: number = ingredient.type === \"bun\" ? 2 : 1 * ingredient.price;\r\n    return (\r\n        <div className={oStyles.ingredient}>\r\n            <div className={oStyles.about}>\r\n                <BurgerIngredientImage image={ingredient.image} />\r\n                <p className=\"text text_type_main-default ml-4\">{ingredient.name}</p>\r\n            </div>\r\n            <BurgerPrice total={total} />\r\n        </div>\r\n\r\n    )\r\n}","import React, { useState, useEffect, FC } from \"react\";\r\nimport pStyles from '../pages.module.css';\r\n\r\nimport { useDispatch, useSelector } from '../../services/types/hooks-types';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { BurgerOrder } from \"../../components/burger-order/burger-order\";\r\nimport { Modal } from '../../components/modal/modal';\r\nimport { Loader } from '../../components/loader/loader';\r\nimport { NoOrderPage } from \"..\";\r\n\r\n\r\nexport const BurgerOrderModal: FC = () => {\r\n    const order = useSelector(store => store.burgerOrder);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const closeModal = () => {\r\n        dispatch({ type: \"burgerOrder/closeOrder\" });\r\n        history.goBack();\r\n    }\r\n\r\n    return (\r\n        <div style={{ position: \"fixed\", overflow: \"hidden\" }}>\r\n            {order.show &&\r\n                <Modal\r\n                    onClose={closeModal}\r\n                    children={<BurgerOrder order={order.item!} />}\r\n                />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const BurgerOrderPage: FC<{type: \"feed\" | \"profile\"}> = ({ type }) => {\r\n\r\n    const { id  } = useParams<{id: string}>();\r\n    const feedOrders = useSelector(store => store.wsFeed.orders);\r\n    const profileOrders = useSelector(store => store.wsOrders.orders);\r\n\r\n    const [state, setState] = useState({\r\n        order: null,\r\n        isLoading: true\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!!feedOrders && type === \"feed\") {\r\n            setState({\r\n                order: feedOrders.find(order => order._id === id),\r\n                isLoading: false\r\n            })\r\n        }\r\n        if (!!profileOrders && type === \"profile\") {\r\n            setState({\r\n                order: profileOrders.find(order => order._id === id),\r\n                isLoading: false\r\n            })\r\n        }\r\n    }, [feedOrders, profileOrders, id, type]);\r\n\r\n    const { order, isLoading } = state;\r\n    return (\r\n        <div className={pStyles.modalPage}>\r\n            {!isLoading &&\r\n                <>\r\n                    {!order\r\n                        ? <NoOrderPage />\r\n                        : <BurgerOrder order={order} />\r\n                    }\r\n                </>\r\n            }\r\n            {isLoading && <Loader text={\"Проверяем заказ\"} />}\r\n        </div>\r\n    )\r\n}","import { useEffect, FC } from 'react';\r\nimport { useDispatch } from '../../services/types/hooks-types';\r\nimport { Route, Switch, useLocation, useHistory } from 'react-router-dom';\r\nimport styles from './app.module.css';\r\n\r\nimport { ProtectedRoute } from '../protected-route/protected-route';\r\nimport { AppHeader } from '../app-header/app-header';\r\nimport { getFoods } from '../../services/slicers/foods/foods';\r\nimport {\r\n  BurgerConstructorPage,\r\n  LoginPage, RegisterPage, ForgotPassPage, ResetPassPage,\r\n  NoPage, IngredientPage, IngredientPageModal, ProfilePage,\r\n  FeedPage, BurgerOrderPage, BurgerOrderModal\r\n} from '../../pages';\r\n\r\nimport { getUserProfile } from '../../services/slicers/profile/profile';\r\nimport { IlocationState } from '../../utils/proptypes';\r\n\r\nexport const App: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  let location = useLocation<IlocationState>();\r\n\r\n  useEffect(() => {\r\n    dispatch(getFoods());\r\n    dispatch(getUserProfile());\r\n  }, []);\r\n\r\n  let background = (location.state && history.action.toLowerCase() === \"push\")\r\n    && location.state.background;\r\n\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n      <main className={styles.main}>\r\n\r\n        <Switch location={background || location}>\r\n\r\n          <ProtectedRoute path='/profile'>\r\n            <ProfilePage />\r\n          </ProtectedRoute>\r\n\r\n          <Route path='/' exact>\r\n            <BurgerConstructorPage />\r\n          </Route>\r\n\r\n          <Route path='/login' exact>\r\n            <LoginPage />\r\n          </Route>\r\n\r\n          <Route path='/register' exact>\r\n            <RegisterPage />\r\n          </Route>\r\n\r\n          <Route path='/forgot-password' exact>\r\n            <ForgotPassPage />\r\n          </Route>\r\n\r\n          <Route path='/reset-password' exact>\r\n            <ResetPassPage />\r\n          </Route>\r\n\r\n          <Route path='/feed' exact>\r\n            <FeedPage />\r\n          </Route>\r\n\r\n          <Route path='/feed/:id' exact>\r\n            <BurgerOrderPage type={\"feed\"} />\r\n          </Route>\r\n\r\n          <Route path='/ingredients/:id' exact>\r\n            <IngredientPage />\r\n          </Route>\r\n\r\n          <Route>\r\n            <NoPage />\r\n          </Route>\r\n        </Switch>\r\n\r\n        {background &&\r\n          <>\r\n            <Route path='/ingredients/:id' exact>\r\n              <IngredientPageModal />\r\n            </Route>\r\n\r\n            <Route path='/feed/:id' exact>\r\n              <BurgerOrderModal />\r\n            </Route>\r\n\r\n            <ProtectedRoute path='/profile/orders/:id' exact>\r\n              <BurgerOrderModal />\r\n            </ProtectedRoute>\r\n          </>\r\n        }\r\n      </main >\r\n    </>\r\n  )\r\n};\r\n\r\n","import { Component, ErrorInfo, ReactNode } from \"react\";\r\nimport { ErrorMessage } from '../error-message/error-message';\r\n\r\ninterface Props {\r\n    children: ReactNode;\r\n}\r\n\r\ninterface State {\r\n    hasError: boolean;\r\n}\r\n\r\nexport default class ErrorBoundary extends Component<Props, State> {\r\n    public state: State = {\r\n        hasError: false\r\n    };\r\n\r\n    public static getDerivedStateFromError(_: Error): State {\r\n        return { hasError: true };\r\n    }\r\n\r\n    public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n        console.log('Cath error', error, errorInfo);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.state.hasError\r\n                ? <ErrorMessage />\r\n                : this.props.children\r\n        )\r\n    }\r\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialIngredient = {\r\n    show: false,\r\n    item: null\r\n};\r\n\r\nconst ingredietnSlice = createSlice({\r\n    name: 'ingredient',\r\n    initialState: initialIngredient,\r\n    reducers: {\r\n        openIngredient: (state, action) => {\r\n            state.show = true;\r\n            state.item = action.payload    \r\n        },\r\n        closeIngredient: (state) => {\r\n            state.show = false;\r\n            state.item= null\r\n        }\r\n    }\r\n});\r\n\r\nconst { actions, reducer } = ingredietnSlice;\r\nconst { openIngredient, closeIngredient } = actions;\r\n\r\nexport {\r\n    reducer as ingredientReducer,\r\n    openIngredient, closeIngredient,\r\n    initialIngredient\r\n}","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { THeaderState } from './header-types';\r\nimport { TheaderLink } from '../../../utils/proptypes';\r\n\r\nconst initialHeader: THeaderState = {\r\n    burger: { type: \"secondary\", icon: \"burger\", text: \"Конструктор\", link: \"/\" },\r\n    orders: { type: \"secondary\", icon: \"list\", text: \"Лента заказов\", link: \"/feed\" },\r\n    profile: { type: \"secondary\", icon: \"profile\", text: \"Личный кабинет\", link: \"/profile\" }\r\n}\r\n\r\nexport const headerSlice = createSlice({\r\n    name: 'header',\r\n    initialState: initialHeader,\r\n    reducers: {\r\n        onChangeLink: (state, action: PayloadAction<TheaderLink>) => {\r\n            for (const key in state) {\r\n                state[key as keyof THeaderState] = key === action.payload\r\n                    ? { ...state[key as keyof THeaderState], type: \"primary\" }\r\n                    : { ...state[key as keyof THeaderState], type: \"secondary\" }\r\n            };\r\n        }\r\n    },\r\n});\r\n\r\n\r\nconst { actions, reducer } = headerSlice;\r\nconst { onChangeLink } = actions;\r\n\r\nexport { reducer as headerReducer, onChangeLink, initialHeader };","import { createSlice, PayloadAction  } from '@reduxjs/toolkit';\r\nimport { TAuthFormState } from './auth-form-types';\r\nimport { Tinput, Tinputs, Idata } from '../../../utils/proptypes';\r\n\r\nexport const initialAuth: TAuthFormState = {\r\n    arrInputs: [],\r\n    data: {} //all values of form       \r\n};\r\n\r\nexport const authSlice = createSlice({\r\n    name: \"auth\",\r\n    initialState: initialAuth,\r\n    reducers: {\r\n        setInputs: (state, action: PayloadAction<Tinputs>) => {\r\n            const inputs = action.payload;\r\n\r\n            state.arrInputs = inputs.map(input => ({\r\n                ...input,\r\n                icon: input.type === \"password\" ? \"HideIcon\" : input.icon,\r\n                valid: false,\r\n                error: \"\"\r\n            }))\r\n        },\r\n        clearForm: (state) => initialAuth,\r\n        handleInput: (state, action: PayloadAction<Tinput>) => {\r\n            const { name, value } = action.payload;\r\n            state.data = { ...state.data, [name]: value }\r\n            state.arrInputs = state.arrInputs.map(input => input.name === name ? { ...input, value } : input);\r\n\r\n        },\r\n        handleIcon: (state, action: PayloadAction<Tinput>) => {\r\n            const input = action.payload;\r\n            if (input.name === \"password\") {\r\n                state.arrInputs = state.arrInputs.map(inputState =>\r\n                    input.name === inputState.name\r\n                        ? {\r\n                            ...input,\r\n                            type: input.type === \"password\" ? \"text\" : \"password\",\r\n                            icon: input.type === \"password\" ? \"ShowIcon\" : \"HideIcon\"\r\n                        }\r\n                        : inputState);\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\n\r\nconst { reducer, actions } = authSlice;\r\nconst { setInputs, clearForm, handleInput, handleIcon  } = actions;\r\nexport {\r\n    reducer as authFormReducer,\r\n    setInputs, clearForm, handleInput, handleIcon\r\n};","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialBurgerOrder = {\r\n    show: false,\r\n    item: null\r\n};\r\n\r\nconst burgerOrderSlice = createSlice({\r\n    name: 'burgerOrder',\r\n    initialState: initialBurgerOrder,\r\n    reducers: {\r\n        openOrder: (state, action) => {\r\n            state.show = true;\r\n            state.item = action.payload\r\n        },\r\n        closeOrder: (state) => {\r\n            state.show = false;\r\n            state.item = null\r\n        }\r\n    }\r\n});\r\n\r\nconst { actions, reducer } = burgerOrderSlice;\r\nconst { openOrder, closeOrder } = actions;\r\n\r\nexport {\r\n    reducer as burgerOrderReducer,\r\n    openOrder, closeOrder,\r\n    initialBurgerOrder\r\n}","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { batch } from 'react-redux';\r\nimport { TFeedWsState } from './ws-feed-types';\r\n\r\nconst initialFeedWs: TFeedWsState = {\r\n    success: false,\r\n    isError: false,\r\n    orders: null,\r\n    total: 0,\r\n    totalToday: 0\r\n};;\r\n\r\nconst profileSlice = createSlice({\r\n    name: 'wsFeed',\r\n    initialState: initialFeedWs,\r\n    reducers: {\r\n        wsError: (state) => {\r\n            state.success = false;\r\n            state.isError = true\r\n        },\r\n        wsSuccess: (state, action) => {\r\n            state.success = true\r\n        },\r\n        wsClosed: (state, action) => {\r\n            state.success = false\r\n        },\r\n        wsGetFeed: (state, action: PayloadAction<TFeedWsState>) => action.payload\r\n    }\r\n})\r\n\r\n\r\nconst { reducer, actions } = profileSlice;\r\nconst { wsError, wsSuccess, wsClosed, wsGetFeed } = actions;\r\n\r\nexport {\r\n    reducer as wsFeedReducer,\r\n    wsError, wsSuccess, wsClosed, wsGetFeed,\r\n    initialFeedWs\r\n}\r\n\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { TOrdersWsState } from './ws-orders-types';\r\n\r\nconst initialOrdersWs:TOrdersWsState = {\r\n    success: false,\r\n    isError: false,\r\n    orders: null\r\n};\r\n\r\nconst profileSlice = createSlice({\r\n    name: 'wsOrders',\r\n    initialState: initialOrdersWs,\r\n    reducers: {\r\n        wsError: (state) => {\r\n            state.success = false;\r\n            state.isError = true\r\n        },\r\n        wsSuccess: (state, action) => {\r\n            state.success = true\r\n        },\r\n        wsClosed: (state, action) => {\r\n            state.success = false\r\n        },\r\n\r\n        wsGetOrders: (state, action: PayloadAction<TOrdersWsState>) => action.payload\r\n    }\r\n})\r\n\r\n\r\nconst { reducer, actions } = profileSlice;\r\nconst { wsError, wsSuccess, wsClosed, wsGetOrders } = actions;\r\n\r\nexport {\r\n    reducer as wsOrdersReducer,\r\n    wsError, wsSuccess, wsClosed, wsGetOrders,\r\n    initialOrdersWs\r\n}\r\n\r\n","import { combineReducers } from \"redux\";\r\nimport { foodsReducer } from './slicers/foods/foods';\r\nimport { burgerReducer } from \"./slicers/burger-constructor/burger-constructor\";\r\nimport { ordersReducer } from \"./slicers/orders/orders\";\r\nimport { ingredientReducer } from \"./slicers/ingredient/ingredient\";\r\nimport { headerReducer } from \"./slicers/header/header\";\r\nimport { profileReducer } from \"./slicers/profile/profile\";\r\nimport { authFormReducer } from \"./slicers/auth-form/auth-form\";\r\nimport { burgerOrderReducer } from \"./slicers/burger-order/burger-order\";\r\nimport { wsFeedReducer } from \"./slicers/ws-feed/ws-feed\";\r\nimport { wsOrdersReducer } from \"./slicers/ws-orders/ws-orders\";\r\n\r\nimport { headerSlice } from \"./slicers/header/header\";\r\nimport { authSlice } from \"./slicers/auth-form/auth-form\";\r\nimport {profileSlice} from './slicers/profile/profile';\r\n\r\nexport const rootReducer = combineReducers({\r\n    foods: foodsReducer,\r\n    burger: burgerReducer,\r\n    orders: ordersReducer,\r\n    ingredient: ingredientReducer,\r\n    header: headerReducer,\r\n    profile: profileReducer,\r\n    authForm: authFormReducer,\r\n    burgerOrder: burgerOrderReducer,\r\n    wsFeed: wsFeedReducer,\r\n    wsOrders: wsOrdersReducer\r\n});\r\n\r\n\r\nexport const allActions = {\r\n    ...headerSlice.actions,\r\n    ...authSlice.actions,\r\n    ...profileSlice.actions, \r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { App } from './components/app/app';\r\nimport ErrorBoundary from './components/error-boundary/error-boundary';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport { configureStore } from '@reduxjs/toolkit'\r\nimport logger from 'redux-logger'\r\nimport { rootReducer } from './services/index';\r\n\r\nimport { socketFeedMiddleware, socketOrdersMiddleware} from './services/middleware/';\r\n\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware()\r\n      .concat(logger, socketFeedMiddleware(), socketOrdersMiddleware()),\r\n  devTools: process.env.NODE_ENV !== 'production'\r\n});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ErrorBoundary>\r\n      <Provider store={store}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </Provider>\r\n    </ErrorBoundary>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\nreportWebVitals();\r\n","\r\nexport const socketFeedMiddleware = () => {\r\n    const wsUrl = 'wss://norma.nomoreparties.space/orders/all';\r\n\r\n    return store => {\r\n        let socket = null;\r\n\r\n        return next => action => {\r\n            const { dispatch, getState } = store;\r\n            const { type } = action;\r\n            const foods = getState().foods.items;\r\n\r\n            if (type === \"wsFeed/wsInit\") {\r\n                socket = new WebSocket(wsUrl);\r\n            }\r\n            if (socket) {\r\n                socket.onopen = event => {\r\n                    dispatch({ type: \"wsFeed/wsSuccess\" });\r\n                };\r\n\r\n                socket.onerror = event => {\r\n                    dispatch({ type: \"wsFeed/wsError\" });\r\n                };\r\n\r\n                socket.onmessage = event => {\r\n                    const { data } = event;\r\n                    const parsedData = JSON.parse(data);\r\n                    const fullOrders = parsedData.orders.map(order => ({\r\n                        ...order,\r\n                        ingredients: order.ingredients.map(ingredient =>\r\n                            foods.find(food => ingredient === food._id))\r\n                            .filter(ingredient => !!ingredient)\r\n                    }));\r\n\r\n                    dispatch({\r\n                        type: \"wsFeed/wsGetFeed\",\r\n                        payload: {\r\n                            ...parsedData,\r\n                            success: true,\r\n                            orders: fullOrders.map(order => (\r\n                                {\r\n                                    ...order,\r\n                                    total: order.ingredients.reduce((total, current) => total + current.price * (current.type === \"bun\" ? 2 : 1), 0)\r\n                                }))\r\n                        }\r\n                    });\r\n                };\r\n\r\n                socket.onclose = event => {\r\n                    dispatch({ type: \"wsFeed/wsClosed\" });\r\n                };\r\n            }\r\n\r\n            next(action);\r\n        };\r\n    };\r\n};\r\n","import { getCookie } from \"../../utils/helpers\";\r\n\r\nexport const socketOrdersMiddleware = () => {\r\n    const wsUrl = \"wss://norma.nomoreparties.space/orders?token=\";\r\n\r\n    return store => {\r\n        let socket = null;\r\n\r\n        return next => action => {\r\n            const { dispatch, getState } = store;\r\n            const { type } = action;\r\n            const foods = getState().foods.items;\r\n\r\n            if (type === \"wsOrders/wsInit\") {\r\n                socket = new WebSocket(wsUrl + getCookie('accessToken'));\r\n            }\r\n            if (socket) {\r\n                socket.onopen = event => {\r\n                    dispatch({ type: \"wsOrders/wsSuccess\" });\r\n                };\r\n\r\n                socket.onerror = event => {\r\n                    dispatch({ type: \"wsOrders/wsError\" });\r\n                };\r\n\r\n                socket.onmessage = event => {\r\n                    const { data } = event;\r\n                    const parsedData = JSON.parse(data);\r\n                    const fullOrders = parsedData.orders.map(order => ({\r\n                        ...order,\r\n                        ingredients: order.ingredients.map(ingredient =>\r\n                            foods.find(food => ingredient === food._id))\r\n                            .filter(ingredient => !!ingredient)\r\n                    }));\r\n                    dispatch({\r\n                        type: \"wsOrders/wsGetOrders\",\r\n                        payload: {\r\n                            ...parsedData,\r\n                            success: true,\r\n                            orders: fullOrders.map(order => (\r\n                                {\r\n                                    ...order,\r\n                                    total: order.ingredients.reduce((total, current) => total + current.price * (current.type === \"bun\" ? 2 : 1), 0)\r\n                                }))\r\n                        }\r\n                    });\r\n                };\r\n\r\n                socket.onclose = event => {\r\n                    dispatch({ type: \"wsFeed/wsClosed\" });\r\n                };\r\n            }\r\n\r\n            next(action);\r\n        };\r\n    };\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"pages_content__TpO_W\",\"noPage\":\"pages_noPage__3xkgD\",\"noOrderPage\":\"pages_noOrderPage__1hNU3 pages_noPage__3xkgD\",\"modalPage\":\"pages_modalPage__UE8PE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"burger-constructor_main__2tNbw\",\"menu\":\"burger-constructor_menu__sONAg\",\"dropContainer\":\"burger-constructor_dropContainer__Zjt8T\",\"filling\":\"burger-constructor_filling__2fgAv\",\"confirm\":\"burger-constructor_confirm__3NS70\",\"orderPrice\":\"burger-constructor_orderPrice__3AlD8\",\"recipe\":\"burger-constructor_recipe__3vUgp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"burger-card_card__30_sB\",\"cardHeader\":\"burger-card_cardHeader__3AvS1\",\"cardFooter\":\"burger-card_cardFooter__2BWi2\",\"cardTotal\":\"burger-card_cardTotal__3jUzz\",\"cardImages\":\"burger-card_cardImages__3QA7Q\",\"imageContainer\":\"burger-card_imageContainer__294ZG\",\"cardImage\":\"burger-card_cardImage__3suQg\",\"cardImageBlur\":\"burger-card_cardImageBlur__1wimx burger-card_cardImage__3suQg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredients-details_container__3uS5N\",\"composition\":\"ingredients-details_composition__wYmpZ\",\"composeItem\":\"ingredients-details_composeItem__1EVnk\",\"image\":\"ingredients-details_image__3YRQs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"feed-status_status__2TSop\",\"data\":\"feed-status_data__Yyewg\",\"columns\":\"feed-status_columns__3cz0E\",\"digits\":\"feed-status_digits__1YHIi\",\"total\":\"feed-status_total__3M4sv\",\"totalDigits\":\"feed-status_totalDigits__F2CQl\",\"count\":\"feed-status_count__CWVfR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"burger-order_order__2SHCu\",\"header\":\"burger-order_header__2tORc\",\"footer\":\"burger-order_footer__3r0Bd\",\"ingredients\":\"burger-order_ingredients__33wNb\",\"ingredient\":\"burger-order_ingredient__192n2\",\"about\":\"burger-order_about__2zK1n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1gtX5\",\"content\":\"app-header_content__2DMzM\",\"logo\":\"app-header_logo__2c-Yf\",\"button-primary\":\"app-header_button-primary__3XgOa\",\"button-secondary\":\"app-header_button-secondary__c8MyV app-header_button-primary__3XgOa\",\"menu\":\"app-header_menu__2BfqR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"form_form__1oY-K\",\"footer\":\"form_footer__2aMqx\",\"footerBlock\":\"form_footerBlock__1LJTT\",\"footerDesc\":\"form_footerDesc__P6E6e\",\"footerLink\":\"form_footerLink__1QOpS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile___ZBKq\",\"menu\":\"profile_menu__2zVJs\",\"link\":\"profile_link__3eJaJ\",\"activeLink\":\"profile_activeLink__1jnOS profile_link__3eJaJ\",\"form\":\"profile_form__1oUU8\",\"input_size_default\":\"profile_input_size_default__2VsF4\",\"formSubmit\":\"profile_formSubmit__3F252\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"order-details_container__39iZT\",\"icon\":\"order-details_icon__SQgvY\",\"title\":\"order-details_title__37gWW\",\"titleLoader\":\"order-details_titleLoader__36HNX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"scrollbox_container__2Bl4W\",\"scrollBarContainer\":\"scrollbox_scrollBarContainer__25fZX\",\"content\":\"scrollbox_content__2y-GP\",\"scrollbar\":\"scrollbox_scrollbar__3ORoV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBox\":\"modal_modalBox__KI4un\",\"closePosition\":\"modal_closePosition__1sEwP\",\"content\":\"modal_content__3O20I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"loader_container__1MVDK\",\"icons\":\"loader_icons__3768C\",\"rotateIcons\":\"loader_rotateIcons__2q2CU\",\"icon\":\"loader_icon__1H6Wd\",\"rotateIcon\":\"loader_rotateIcon__1sb08\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"error-message_container__1xeVZ\",\"icons\":\"error-message_icons__3GgcV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3xsct\"};"],"sourceRoot":""}